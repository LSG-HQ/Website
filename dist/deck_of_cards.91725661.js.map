{"mappings":"CCEW,WAIT,IADI,EA2GA,EAubA,EA8DA,EAyGA,EA6DA,EArwBA,EAAa,EAAE,CAEnB,SAAS,EAAgB,CAAK,CAAE,CAAQ,EAItC,IAAI,EAAQ,AAHF,KAAK,GAAG,GAGA,EAGd,EAAY,CACd,MAAO,EACP,IAJQ,EAAQ,CAKlB,EAGA,EAAW,IAAI,CAAC,GAEX,IAEH,EAAU,CAAA,EACV,sBAAsB,IAExB,IAAI,EAAO,CACT,MAAO,SAAe,CAAE,EAGtB,OADA,EAAU,OAAO,CAAG,EACb,CACT,EACA,SAAU,SAAkB,CAAE,EAG5B,OADA,EAAU,UAAU,CAAG,EAChB,CACT,EACA,IAAK,SAAa,CAAE,EAGlB,OADA,EAAU,KAAK,CAAG,EACX,CACT,CACF,EACA,OAAO,CACT,CAEA,SAAS,IACP,IAAI,EAAM,KAAK,GAAG,GAElB,GAAI,CAAC,EAAW,MAAM,CAAE,CAEtB,EAAU,CAAA,EACV,MACF,CAEA,IAAK,IAAW,EAAP,EAAI,EAAc,EAAI,EAAW,MAAM,CAAE,IAEhD,IAAI,CAAA,EAAM,AADV,CAAA,EAAY,CAAU,CAAC,EAAE,AAAF,EACH,KAAK,AAAL,GAIhB,CAAC,EAAU,OAAO,GAEpB,EAAU,OAAO,CAAG,CAAA,EACpB,EAAU,OAAO,EAAI,EAAU,OAAO,IAGxC,IAAI,EAAI,AAAC,CAAA,EAAM,EAAU,KAAI,AAAJ,EAAU,CAAA,EAAU,GAAG,CAAG,EAAU,KAAK,AAAL,EAE7D,GADA,EAAU,UAAU,EAAI,EAAU,UAAU,CAAC,EAAI,EAAI,EAAI,GACrD,EAAM,EAAU,GAAG,CAAE,CAEvB,EAAU,KAAK,EAAI,EAAU,KAAK,GAClC,EAAW,MAAM,CAAC,IAAK,GACvB,QACF,EAEF,sBAAsB,EACxB,CAGA,OAAO,qBAAqB,EAAK,CAAA,OAAO,qBAAqB,CAAG,SAAU,CAAE,EAC1E,WAAW,EAAI,EACjB,CAAA,EAEA,IAAI,EAAQ,SAAS,aAAa,CAAC,KAAK,KAAK,CACzC,EAAW,CAAC,EAEhB,SAAS,EAAO,CAAK,EACnB,GAAI,AAA2B,KAAA,IAApB,CAAQ,CAAC,EAAM,CACxB,OAAO,CAAQ,CAAC,EAAM,CAGxB,GAAI,AAAwB,KAAA,IAAjB,CAAK,CAAC,EAAM,CAErB,OADA,CAAQ,CAAC,EAAM,CAAG,EACX,EAOT,IAAK,IAFD,EAFA,EAAY,CAAK,CAAC,EAAE,CAAC,WAAW,GAAK,EAAM,KAAK,CAAC,GACjD,EAAW,CAAC,SAAU,MAAO,MAAO,KAAM,IAAI,CAGzC,EAAI,EAAG,EAAM,EAAS,MAAM,CAAE,EAAI,EAAK,IAE9C,GAAI,AAAuB,KAAA,IAAhB,CAAK,CADhB,EAAO,CAAQ,CAAC,EAAE,CAAG,EACC,CAEpB,OADA,CAAQ,CAAC,EAAM,CAAG,EACX,CAGb,CAIA,SAAS,EAAU,CAAC,CAAE,CAAC,CAAE,CAAC,QAKxB,CAJA,AAAiB,KAAA,IAAV,GAA0B,CAAA,EAAQ,AAW3C,WAKE,GAAI,CAFW,iEAAiE,IAAI,CAAC,UAAU,SAAS,EAGtG,MAAO,CAAA,EAGT,IAAI,EAAY,EAAO,aACnB,EAAK,SAAS,aAAa,CAAC,KAUhC,OARA,SAAS,IAAI,CAAC,WAAW,CAAC,GAC1B,EAAG,KAAK,CAAC,EAAU,CAAG,2BAGtB,EAAQ,AAAS,MADjB,CAAA,EAAQ,EAAG,KAAK,CAAC,EAAU,AAAV,GACQ,EAAM,MAAM,EAAI,AAAU,SAAV,EAEzC,SAAS,IAAI,CAAC,WAAW,CAAC,GAEnB,CACT,GAhC2C,EAEzC,EAAI,GAAK,EAEL,GACK,eAAiB,EAAI,KAAO,EAAI,KAAO,EAAI,IAE3C,aAAe,EAAI,KAAO,EAAI,GAEzC,CAyBA,SAAS,EAAc,CAAI,EACzB,OAAO,SAAS,aAAa,CAAC,EAChC,CAEA,IAAI,EAAO,GAEX,SAAS,EAAM,CAAC,EACd,IAqImB,EAjHf,EApBA,EAAY,EAAO,aAGnB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,GAAK,EAChB,EAAI,AAAC,CAAA,GAAK,CAAA,EAAK,EAGf,EAAM,EAAc,OACpB,EAAQ,EAAc,OACtB,EAAQ,EAAc,OAGtB,EAAc,CAAA,EACd,EAAc,CAAA,EAGd,EAAO,CAAE,EAAG,EAAG,KAAM,EAAM,KAAM,EAAM,IAAK,EAAG,IAAK,EAAK,MA8L7D,SAAe,CAAM,EAEnB,EAAO,WAAW,CAAC,GAEnB,EAAK,KAAK,CAAG,CACf,EAnM2E,QAqM3E,WAEE,EAAK,KAAK,EAAI,EAAK,KAAK,CAAC,WAAW,CAAC,GACrC,EAAK,KAAK,CAAG,IACf,EAzM6F,QA2M7F,SAAiB,CAAO,EAElB,AAAY,UAAZ,GACgB,SAAd,EAAK,IAAI,EACX,EAAI,WAAW,CAAC,GAElB,EAAK,IAAI,CAAG,QACZ,EAAI,WAAW,CAAC,GAChB,EAAK,WAAW,CAAC,EAAK,IAAI,CAAE,EAAK,IAAI,IAEnB,UAAd,EAAK,IAAI,EACX,EAAI,WAAW,CAAC,GAElB,EAAK,IAAI,CAAG,OACZ,EAAI,WAAW,CAAC,GAChB,EAAI,YAAY,CAAC,QAAS,QAE9B,CA5N8G,EAE1G,EAAU,EAAK,OAAO,CAwB1B,IAAK,KApBL,EAAM,SAAS,CAAC,GAAG,CAAC,QACpB,EAAM,SAAS,CAAC,GAAG,CAAC,QAGpB,EAAI,KAAK,CAAC,EAAU,CAAG,EAAU,CAAC,EAAI,KAAM,CAAC,EAAI,MAGjD,EAAK,CAAC,CAAG,CAAC,EACV,EAAK,CAAC,CAAG,CAAC,EACV,EAAK,CAAC,CAAG,EACT,EAAK,GAAG,CAAG,EAGX,EAAK,OAAO,CAAC,QAGb,EAAY,EAAK,YAAa,GAC9B,EAAY,EAAK,aAAc,GAGhB,EA4Fb,CAFiB,EAzFP,CAAO,CAAC,EAAO,EA2FlB,IAAI,EAAI,EAAO,IAAI,CAAC,GAJ7B,OApFA,EAAK,SAAS,CAAG,SAAU,CAAM,EAC/B,IAaI,EAAQ,EAAQ,EAChB,EAAO,EAAO,EAdd,EAAQ,EAAO,KAAK,CACpB,EAAW,EAAO,QAAQ,CAC1B,EAAY,EAAO,CAAC,CACpB,EAAI,AAAc,KAAA,IAAd,EAA0B,EAAK,CAAC,CAAG,EACvC,EAAY,EAAO,CAAC,CACpB,EAAI,AAAc,KAAA,IAAd,EAA0B,EAAK,CAAC,CAAG,EACvC,EAAc,EAAO,GAAG,CACxB,EAAM,AAAgB,KAAA,IAAhB,EAA4B,EAAK,GAAG,CAAG,EAC7C,EAAS,EAAO,IAAI,CACpB,EAAU,EAAO,OAAO,CACxB,EAAa,EAAO,UAAU,CAC9B,EAAa,EAAO,UAAU,CAKlC,EAAgB,EAAO,GAAU,KAAK,CAAC,WACrC,EAAS,EAAK,CAAC,EAAI,EACnB,EAAS,EAAK,CAAC,EAAI,EACnB,EAAW,EAAK,GAAG,EAAI,EACvB,GAAW,GACb,GAAG,QAAQ,CAAC,SAAU,CAAC,EACrB,IAAI,EAAK,CAAI,CAAC,GAAU,aAAa,CAAC,GAEtC,EAAQ,EAAI,EACZ,EAAQ,EAAI,EACZ,EAAU,EAAM,EAEhB,GAAc,EAAW,EAAG,GAE5B,EAAK,CAAC,CAAG,EAAS,EAAQ,EAC1B,EAAK,CAAC,CAAG,EAAS,EAAQ,EAC1B,EAAK,GAAG,CAAG,EAAW,EAAU,EAEhC,EAAI,KAAK,CAAC,EAAU,CAAG,EAAU,EAAK,CAAC,CAAG,KAAM,EAAK,CAAC,CAAG,MAAS,CAAA,EAAU,UAAY,EAAK,GAAG,CAAG,OAAS,EAAA,CAC9G,GAAG,GAAG,CAAC,WACL,GAAc,GAChB,EACF,EAGA,EAAK,WAAW,CAAG,SAAU,CAAI,CAAE,CAAI,EAErC,EAAI,YAAY,CAAC,QAAS,QAuJrB,CAAA,AAAS,IAxJU,EAwJN,SAAW,AAAS,IAxJd,EAwJkB,SAAW,AAAS,IAxJtC,EAwJ0C,QAAU,AAAS,IAxJ7D,EAwJiE,WAAa,OAAxG,EAvJiD,QAAU,EAC3D,EAEA,EAAK,WAAW,CAAC,EAAM,GAEvB,EAAK,cAAc,CAAG,WAEhB,IAIJ,EAAc,CAAA,EACd,EAAI,KAAK,CAAC,MAAM,CAAG,OACrB,EAEA,EAAK,cAAc,CAAG,WAChB,GAIJ,CAAA,EAAc,CAAA,CAAd,CACF,EAEA,EAAK,eAAe,CAAG,WAChB,GAIL,CAAA,EAAc,CAAA,CAAd,CACF,EAEA,EAAK,eAAe,CAAG,WAChB,IAIL,EAAc,CAAA,EACd,EAAI,KAAK,CAAC,MAAM,CAAG,GACrB,EAEO,EAOP,SAAS,EAAY,CAAC,EACpB,IAAI,EAAW,CAAC,EACZ,EAAM,CAAC,EACP,EAAY,KAAK,GAAG,GA0BxB,SAAS,EAAY,CAAC,EACf,IAID,AAAW,cAAX,EAAE,IAAI,EACR,EAAI,CAAC,CAAG,EAAE,OAAO,CACjB,EAAI,CAAC,CAAG,EAAE,OAAO,GAEjB,EAAI,CAAC,CAAG,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CAC5B,EAAI,CAAC,CAAG,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,EAI9B,EAAI,KAAK,CAAC,EAAU,CAAG,EAAU,KAAK,KAAK,CAAC,EAAK,CAAC,CAAG,EAAI,CAAC,CAAG,EAAS,CAAC,EAAI,KAAM,KAAK,KAAK,CAAC,EAAK,CAAC,CAAG,EAAI,CAAC,CAAG,EAAS,CAAC,EAAI,MAAS,CAAA,EAAK,GAAG,CAAG,WAAa,EAAK,GAAG,CAAG,OAAS,EAAA,EAClL,CAEA,SAAS,EAAU,CAAC,EACd,GAAe,KAAK,GAAG,GAAK,EAAY,KAE1C,EAAK,OAAO,CAAC,AAAc,UAAd,EAAK,IAAI,CAAe,OAAS,SAE5C,AAAW,YAAX,EAAE,IAAI,EACR,EAAe,OAAQ,YAAa,GACpC,EAAe,OAAQ,UAAW,KAElC,EAAe,OAAQ,YAAa,GACpC,EAAe,OAAQ,WAAY,IAEhC,IAML,EAAK,CAAC,CAAG,EAAK,CAAC,CAAG,EAAI,CAAC,CAAG,EAAS,CAAC,CACpC,EAAK,CAAC,CAAG,EAAK,CAAC,CAAG,EAAI,CAAC,CAAG,EAAS,CAAC,CACtC,CA7DA,EAAE,cAAc,GAGZ,AAAW,cAAX,EAAE,IAAI,EACR,EAAS,CAAC,CAAG,EAAI,CAAC,CAAG,EAAE,OAAO,CAC9B,EAAS,CAAC,CAAG,EAAI,CAAC,CAAG,EAAE,OAAO,CAC9B,EAAY,OAAQ,YAAa,GACjC,EAAY,OAAQ,UAAW,KAE/B,EAAS,CAAC,CAAG,EAAI,CAAC,CAAG,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CACzC,EAAS,CAAC,CAAG,EAAI,CAAC,CAAG,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CACzC,EAAY,OAAQ,YAAa,GACjC,EAAY,OAAQ,WAAY,IAG7B,IAML,EAAI,KAAK,CAAC,EAAU,CAAG,EAAU,EAAK,CAAC,CAAG,KAAM,EAAK,CAAC,CAAG,MAAS,CAAA,EAAK,GAAG,CAAG,WAAa,EAAK,GAAG,CAAG,OAAS,EAAA,EAC9G,EAAI,KAAK,CAAC,MAAM,CAAG,IAwCrB,CAiCF,CAOA,SAAS,EAAY,CAAM,CAAE,CAAI,CAAE,CAAQ,EACzC,EAAO,gBAAgB,CAAC,EAAM,EAChC,CAEA,SAAS,EAAe,CAAM,CAAE,CAAI,CAAE,CAAQ,EAC5C,EAAO,mBAAmB,CAAC,EAAM,EACnC,CAEA,IAAI,EAAO,CACT,OAAQ,SAAgB,CAAC,EACvB,OAAO,CACT,EACA,OAAQ,SAAgB,CAAC,EACvB,OAAO,EAAI,CACb,EACA,QAAS,SAAiB,CAAC,EACzB,OAAO,EAAK,CAAA,EAAI,CAAA,CAClB,EACA,UAAW,SAAmB,CAAC,EAC7B,OAAO,EAAI,GAAM,EAAI,EAAI,EAAI,GAAK,AAAC,CAAA,EAAI,EAAI,CAAA,EAAK,CAClD,EACA,QAAS,SAAiB,CAAC,EACzB,OAAO,EAAI,EAAI,CACjB,EACA,SAAU,SAAkB,CAAC,EAC3B,MAAO,EAAE,EAAI,EAAI,EAAI,CACvB,EACA,WAAY,SAAoB,CAAC,EAC/B,OAAO,EAAI,GAAM,EAAI,EAAI,EAAI,EAAK,AAAA,CAAA,EAAI,CAAA,EAAM,CAAA,EAAI,EAAI,CAAA,EAAM,CAAA,EAAI,EAAI,CAAA,EAAK,CACzE,EACA,QAAS,SAAiB,CAAC,EACzB,OAAO,EAAI,EAAI,EAAI,CACrB,EACA,SAAU,SAAkB,CAAC,EAC3B,OAAO,GAAI,EAAE,EAAI,EAAI,EAAI,CAC3B,EACA,WAAY,SAAoB,CAAC,EAC/B,OAAO,EAAI,GAAM,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAE,EAAI,EAAI,EAAI,CAC7D,EACA,QAAS,SAAiB,CAAC,EACzB,OAAO,EAAI,EAAI,EAAI,EAAI,CACzB,EACA,SAAU,SAAkB,CAAC,EAC3B,OAAO,EAAI,EAAE,EAAI,EAAI,EAAI,EAAI,CAC/B,EACA,WAAY,SAAoB,CAAC,EAC/B,OAAO,EAAI,GAAM,GAAK,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,GAAK,EAAE,EAAI,EAAI,EAAI,EAAI,CACvE,CACF,EAkGA,SAAS,IACP,OAAO,OAAO,gBAAgB,CAAC,SAAS,IAAI,EAAE,gBAAgB,CAAC,aAAa,KAAK,CAAC,EAAG,GACvF,CAkOA,SAAS,EAAQ,CAAO,EACtB,OAAO,EAAU,KAAK,EAAE,CAAG,GAC7B,CAkJA,SAAS,EAAK,CAAM,EAElB,IA0CmB,EAjGD,EAEd,EAyDA,EAGA,EAaA,EApBA,EAAQ,AAAI,MAAM,EAAS,GAAK,IAEhC,EAAM,EAAc,OACpB,GAxDA,EAAY,CAAC,EAEjB,CAJkB,EA0DI,CAAE,MA4BxB,SAAe,CAAI,EAGjB,AADA,CAAA,EAAQ,CAAR,EACM,WAAW,CAAC,EACpB,EAhCsC,QAkCtC,WAEE,EAAM,WAAW,CAAC,EACpB,EArCwD,MAAO,EAAO,IAAK,CAAI,GAtDxE,EAAE,CAOT,SAAY,CAAI,CAAE,CAAE,CAAE,CAAG,EACvB,CAAS,CAAC,EAAK,EAAK,CAAA,CAAS,CAAC,EAAK,CAAG,EAAC,AAAD,EACtC,CAAS,CAAC,EAAK,CAAC,IAAI,CAAC,CAAE,GAAI,EAAI,IAAK,CAAI,EAC1C,EATA,EAAO,GAAG,CAWV,SAAa,CAAI,CAAE,CAAE,CAAE,CAAG,EACxB,CAAS,CAAC,EAAK,EAAK,CAAA,CAAS,CAAC,EAAK,CAAG,EAAC,AAAD,EACtC,CAAS,CAAC,EAAK,CAAC,IAAI,CAAC,CACnB,GAAI,EAAI,IAAK,EAAK,KAAM,CAAA,CAC1B,EACF,EAfA,EAAO,GAAG,CA8BV,SAAa,CAAI,CAAE,CAAE,EACnB,GAAI,CAAC,EAAM,CACT,EAAY,CAAC,EACb,MACF,CAEA,GAAI,CAAC,EAAI,CACP,CAAS,CAAC,EAAK,CAAG,EAAE,CACpB,MACF,CAEA,CAAS,CAAC,EAAK,CAAG,CAAS,CAAC,EAAK,CAAC,MAAM,CAAC,SAAU,CAAQ,EACzD,OAAO,EAAS,EAAE,GAAK,CACzB,EACF,EA3CA,EAAO,OAAO,CAgBd,SAAiB,CAAI,EACnB,IAAI,EAAO,IAAI,CACX,EAAO,MAAM,SAAS,CAAC,KAAK,CAAC,UAAW,GAI5C,AAFuB,CAAA,CAAS,CAAC,EAAK,EAAI,EAAE,AAAF,EAEzB,MAAM,CAAC,SAAU,CAAQ,EAGxC,OAFA,EAAS,EAAE,CAAC,KAAK,CAAC,EAAM,GAEjB,CAAC,EAAS,IAAI,AACvB,EACF,EAzBO,GAoDH,EAAU,EAAK,OAAO,CAO1B,IAAK,KAHL,AAhHF,SAAe,CAAM,EACnB,IAAI,EAAQ,MAAM,SAAS,CAEvB,EAAW,EAAE,CAKjB,OAHA,EAAO,KAAK,CAAG,EACf,EAAO,MAAM,CAIb,SAAgB,CAAM,EACpB,OAAO,WACL,IAAI,EAAO,IAAI,CACX,EAAO,UAEX,EAAM,SAAU,CAAI,EAClB,EAAO,KAAK,CAAC,EAAM,EAAM,MAAM,CAAC,KAAK,CAAC,EAAM,GAC9C,EACF,CACF,EAEA,SAAS,EAAM,CAAM,EACd,IAIL,EAAS,IAAI,CAAC,GAEU,IAApB,EAAS,MAAM,EACjB,AAGJ,SAAS,IACP,CAAQ,CAAC,EAAE,CAAC,SAAU,CAAG,EACvB,GAAI,EACF,MAAM,CAKJ,CAFJ,CAAA,EAAW,EAAS,KAAK,CAAC,EAA1B,EAEa,MAAM,EACjB,GAEJ,EACF,IAbA,CAcF,EAmEQ,GAGS,EA8Bb,CADiB,EA5BP,CAAO,CAAC,EAAO,EA6BlB,IAAI,EAAI,EAAO,IAAI,CAAC,GAzB7B,EAAI,SAAS,CAAC,GAAG,CAAC,QAKlB,IAAK,IAAI,EAAI,EAAM,MAAM,CAAE,EAAG,IAE5B,AADA,CAAA,EAAO,CAAK,CAAC,EAAI,EAAE,CAAG,EAAM,EAAI,EAAhC,EACK,OAAO,CAAC,QACb,EAAK,KAAK,CAAC,GAGb,OAAO,CAgBT,CACA,EAAK,eAAe,CAAG,EACvB,EAAK,IAAI,CAAG,EACZ,EAAK,OAAO,CAAG,CAAE,OAhMJ,CACX,KAAM,SAAc,CAAM,EACxB,EAAO,MAAM,CAAG,EAAO,MAAM,CAE7B,SAAgB,CAAI,EAClB,IAAI,EAAQ,EAAO,KAAK,CAExB,EAAc,IAEd,EAAM,OAAO,CAAC,SAAU,CAAI,EAC1B,EAAK,MAAM,CAAC,SAAU,CAAC,EACjB,IAAM,EAAM,MAAM,CAAG,GACvB,GAEJ,EACF,EACF,EACF,EACA,KAAM,SAAc,CAAM,EACxB,IAAI,EAAO,EAAO,IAAI,CAClB,EAAO,EAAO,IAAI,AAEtB,CAAA,EAAO,MAAM,CAAG,SAAU,CAAE,EAC1B,IAAI,EAAI,EAAO,CAAC,CAGhB,EAAO,SAAS,CAAC,CACf,MAHU,AAAI,GAAJ,EAIV,SAAU,IAEV,EAAG,CAAC,KAAK,KAAK,CAAE,AAAA,CAAA,KAAO,CAAA,EAAQ,EAAI,EAAc,IACjD,EAAG,CAAC,KAAK,KAAK,CAAE,AAAA,CAAA,IAAM,CAAA,EAAQ,GAAK,EAAc,IACjD,IAAK,EAEL,WAAY,WACV,EAAG,EACL,CACF,EACF,CACF,CACF,EAwJiC,IA7PvB,CACR,KAAM,SAAc,CAAM,EACxB,EAAO,GAAG,CAAG,EAAO,MAAM,CAE1B,SAAa,CAAI,EACf,IAAI,EAAQ,EAAO,KAAK,CACpB,EAAM,EAAM,MAAM,CAEtB,EAAY,IAEZ,EAAM,OAAO,CAAC,SAAU,CAAI,CAAE,CAAC,EAC7B,EAAK,GAAG,CAAC,EAAG,EAAK,SAAU,CAAC,EACtB,IAAM,EAAM,MAAM,CAAG,GACvB,GAEJ,EACF,EACF,EACF,EACA,KAAM,SAAc,CAAM,EACxB,IAAI,EAAM,EAAO,GAAG,AAEpB,CAAA,EAAO,GAAG,CAAG,SAAU,CAAC,CAAE,CAAG,CAAE,CAAE,EAC/B,IAAI,EAAI,EAAI,EACR,EAAQ,AAAI,GAAJ,EACR,EAAM,EAAK,CAAA,EAAM,CAAA,EAAK,IAAM,IAEhC,EAAO,SAAS,CAAC,CACf,MAAO,EACP,SAAU,IAEV,EAAG,CAAC,EACJ,EAAG,CAAC,EACJ,IAAK,CACP,GACA,EAAO,SAAS,CAAC,CACf,MAAO,IAAM,EACb,SAAU,IAEV,EAAG,AAA8B,GAA9B,KAAK,GAAG,CAAC,EAAQ,EAAM,KAAY,EAAY,GAClD,EAAG,AAA8B,GAA9B,KAAK,GAAG,CAAC,EAAQ,EAAM,KAAY,EAAY,GAClD,IAAK,EAEL,QAAS,WACP,EAAI,KAAK,CAAC,MAAM,CAAG,CACrB,EAEA,WAAY,WACV,EAAG,EACL,CACF,EACF,CACF,CACF,EAwM2C,MAzT/B,CACV,KAAM,SAAc,CAAM,EACxB,EAAO,KAAK,CAAG,EAAO,MAAM,CAE5B,SAAe,CAAI,EACjB,IAAI,EAAQ,EAAO,KAAK,CAExB,EAAM,OAAO,CAAC,SAAU,CAAI,CAAE,CAAC,EAC7B,EAAK,OAAO,CAAC,SACb,EAAK,KAAK,CAAC,EAAG,SAAU,CAAC,EACvB,EAAgB,IAAK,GAAG,KAAK,CAAC,WAC5B,EAAK,OAAO,CAAC,OACf,GACI,IAAM,EAAM,MAAM,CAAG,GACvB,GAEJ,EACF,EACF,EACF,EACA,KAAM,SAAc,CAAM,EACxB,IAAI,EAAY,EAAO,aAEnB,EAAM,EAAO,GAAG,AAEpB,CAAA,EAAO,KAAK,CAAG,SAAU,CAAC,CAAE,CAAE,EAE5B,IAAI,EAAI,EAAI,CAEZ,CAAA,EAAI,KAAK,CAAC,EAAU,CAAG,EAAU,CAAC,EAAI,KAAM,UAC5C,EAAI,KAAK,CAAC,OAAO,CAAG,EAEpB,EAAO,CAAC,CAAG,CAAC,EACZ,EAAO,CAAC,CAAG,KAAO,EAClB,EAAO,GAAG,CAAG,EAEb,EAAO,SAAS,CAAC,CACf,MAXU,IAAM,AAAI,GAAJ,EAYhB,SAAU,IAEV,EAAG,CAAC,EACJ,EAAG,CAAC,EAEJ,QAAS,WACP,EAAI,KAAK,CAAC,MAAM,CAAG,CACrB,EACA,WAAY,SAAoB,CAAC,EAC/B,EAAI,KAAK,CAAC,OAAO,CAAG,CACtB,EACA,WAAY,WACV,EAAI,KAAK,CAAC,OAAO,CAAG,GACpB,GAAM,EAAG,EACX,CACF,EACF,CACF,CACF,EAiQyD,MAtW7C,CACV,KAAM,SAAc,CAAM,EACxB,EAAO,KAAK,CAAG,EAAO,MAAM,CAE5B,SAAe,CAAI,EACjB,IAAI,EAAQ,EAAO,KAAK,CACpB,EAAM,EAAM,MAAM,CAEtB,EAAa,IAEb,EAAM,KAAK,CAAC,IAAI,OAAO,GAAG,OAAO,CAAC,SAAU,CAAI,CAAE,CAAC,EACjD,EAAK,KAAK,CAAC,EAAG,EAAK,SAAU,CAAC,EAC5B,EAAK,OAAO,CAAC,SACH,IAAN,GACF,GAEJ,EACF,EACF,EACF,EACA,KAAM,SAAc,CAAM,EACxB,IAAI,EAAM,EAAO,GAAG,AAEpB,CAAA,EAAO,KAAK,CAAG,SAAU,CAAC,CAAE,CAAG,CAAE,CAAE,EAGjC,EAAO,SAAS,CAAC,CACf,MAHU,AAAI,IAAJ,EAIV,SAAU,IAEV,EAAG,KAAK,KAAK,CAAE,AAAA,CAAA,EAAI,IAAA,EAAQ,GAAK,EAAa,IAC7C,EAAG,KAAK,KAAK,CAAC,KAAO,EAAa,IAClC,IAAK,EAEL,QAAS,WACP,EAAI,KAAK,CAAC,MAAM,CAAG,EAAM,EAAI,CAC/B,EACA,WAAY,WACV,EAAG,EACL,CACF,EACF,CACF,CACF,EA2TuE,QApazD,CACZ,KAAM,SAAc,CAAM,EACxB,EAAO,OAAO,CAAG,EAAO,MAAM,CAE9B,SAAiB,CAAI,EACnB,IAAI,EAAQ,EAAO,KAAK,CAExB,EAAe,IAEf,AA5BN,SAAqB,CAAK,EAGxB,IAAK,IAFD,EAAK,EAEA,EAAI,EAAM,MAAM,CAAG,EAAG,EAAG,IAChC,EAAM,KAAK,MAAM,GAAK,EAAI,EAC1B,EAAO,CAAK,CAAC,EAAE,CACf,CAAK,CAAC,EAAE,CAAG,CAAK,CAAC,EAAI,CACrB,CAAK,CAAC,EAAI,CAAG,CAIjB,EAiBkB,GAEZ,EAAM,OAAO,CAAC,SAAU,CAAI,CAAE,CAAC,EAC7B,EAAK,GAAG,CAAG,EAEX,EAAK,OAAO,CAAC,SAAU,CAAC,EAClB,IAAM,EAAM,MAAM,CAAG,GACvB,GAEJ,EACF,EAEF,EACF,EAEA,KAAM,SAAc,CAAM,EACxB,IAAI,EAAM,EAAO,GAAG,AAEpB,CAAA,EAAO,OAAO,CAAG,SAAU,CAAE,EAC3B,IAAI,EAAI,EAAO,GAAG,CACd,EAAI,EAAI,EACR,EAAQ,AAAI,EAAJ,EAEZ,EAAO,SAAS,CAAC,CACf,MAAO,EACP,SAAU,IAEV,EAAG,AA5DO,CAAA,KAAK,KAAK,CAAC,KAAK,MAAM,IAAM,GAAK,CAAA,EA4D9B,CAAA,AAAgB,GAAhB,KAAK,MAAM,GAAU,EAAA,EAAM,EAAe,GACvD,EAAG,CAAC,EACJ,IAAK,CACP,GACA,EAAO,SAAS,CAAC,CACf,MAAO,IAAM,EACb,SAAU,IAEV,EAAG,CAAC,EACJ,EAAG,CAAC,EACJ,IAAK,EAEL,QAAS,WACP,EAAI,KAAK,CAAC,MAAM,CAAG,CACrB,EAEA,WAAY,WACV,EAAG,EACL,CACF,EACF,CACF,CACF,EA0WyF,KAzf9E,CACT,KAAM,SAAc,CAAM,EACxB,EAAO,IAAI,CAAG,EAAO,MAAM,CAE3B,SAAc,CAAI,CAAE,CAAO,EACzB,IAAI,EAAQ,EAAO,KAAK,CAExB,EAAM,IAAI,CAAC,SAAU,CAAC,CAAE,CAAC,SACvB,AAAI,EACK,EAAE,CAAC,CAAG,EAAE,CAAC,CAET,EAAE,CAAC,CAAG,EAAE,CAAC,AAEpB,GAEA,EAAM,OAAO,CAAC,SAAU,CAAI,CAAE,CAAC,EAC7B,EAAK,IAAI,CAAC,EAAG,EAAM,MAAM,CAAE,SAAU,CAAC,EAChC,IAAM,EAAM,MAAM,CAAG,GACvB,GAEJ,EAAG,EACL,EACF,EACF,EACA,KAAM,SAAc,CAAM,EACxB,IAAI,EAAM,EAAO,GAAG,AAEpB,CAAA,EAAO,IAAI,CAAG,SAAU,CAAC,CAAE,CAAG,CAAE,CAAE,CAAE,CAAO,EACzC,IAAI,EAAI,EAAI,EACR,EAAQ,AAAI,GAAJ,EAEZ,EAAO,SAAS,CAAC,CACf,MAAO,EACP,SAAU,IAEV,EAAG,CAAC,EACJ,EAAG,KACH,IAAK,EAEL,WAAY,WACV,EAAI,KAAK,CAAC,MAAM,CAAG,CACrB,CACF,GAEA,EAAO,SAAS,CAAC,CACf,MAAO,EAAQ,IACf,SAAU,IAEV,EAAG,CAAC,EACJ,EAAG,CAAC,EACJ,IAAK,EAEL,WAAY,WACV,EAAG,EACL,CACF,EACF,CACF,CACF,EA+bqG,KA1gB1F,CACT,KAAM,SAAc,CAAK,EACvB,EAAM,IAAI,CAAG,EAAM,MAAM,CAEzB,SAAc,CAAI,CAAE,CAAI,EACtB,IAAI,EAAU,EAAM,KAAK,CAAC,MAAM,CAAC,SAAU,CAAI,EAC7C,MAAO,AAAc,UAAd,EAAK,IAAI,AAClB,GAAG,MAAM,CAAG,EAAM,KAAK,CAAC,MAAM,CAE9B,EAAM,KAAK,CAAC,OAAO,CAAC,SAAU,CAAI,CAAE,CAAC,EACnC,EAAK,OAAO,CAAC,GAAc,CAAA,EAAU,GAAM,OAAS,OAApD,EACF,GACA,GACF,EACF,CACF,CA2fgH,EAChH,EAAK,IAAI,CAAG,EACZ,EAAK,MAAM,CAAG,EACd,EAAK,SAAS,CAAG,CAGnB","sources":["<anon>","assets/dist/deck.js"],"sourcesContent":["\"use strict\";\nvar Deck = function() {\n    \"use strict\";\n    var ticking;\n    var animations = [];\n    function animationFrames(delay, duration) {\n        var now = Date.now();\n        // calculate animation start/end times\n        var start = now + delay;\n        var end = start + duration;\n        var animation = {\n            start: start,\n            end: end\n        };\n        // add animation\n        animations.push(animation);\n        if (!ticking) {\n            // start ticking\n            ticking = true;\n            requestAnimationFrame(tick);\n        }\n        var self = {\n            start: function start(cb) {\n                // add start callback (just one)\n                animation.startcb = cb;\n                return self;\n            },\n            progress: function progress(cb) {\n                // add progress callback (just one)\n                animation.progresscb = cb;\n                return self;\n            },\n            end: function end(cb) {\n                // add end callback (just one)\n                animation.endcb = cb;\n                return self;\n            }\n        };\n        return self;\n    }\n    function tick() {\n        var now = Date.now();\n        if (!animations.length) {\n            // stop ticking\n            ticking = false;\n            return;\n        }\n        for(var i = 0, animation; i < animations.length; i++){\n            animation = animations[i];\n            if (now < animation.start) continue;\n            if (!animation.started) {\n                // animation starts\n                animation.started = true;\n                animation.startcb && animation.startcb();\n            }\n            // animation progress\n            var t = (now - animation.start) / (animation.end - animation.start);\n            animation.progresscb && animation.progresscb(t < 1 ? t : 1);\n            if (now > animation.end) {\n                // animation ended\n                animation.endcb && animation.endcb();\n                animations.splice(i--, 1);\n                continue;\n            }\n        }\n        requestAnimationFrame(tick);\n    }\n    // fallback\n    window.requestAnimationFrame || (window.requestAnimationFrame = function(cb) {\n        setTimeout(cb, 0);\n    });\n    var style = document.createElement(\"p\").style;\n    var memoized = {};\n    function prefix(param) {\n        if (typeof memoized[param] !== \"undefined\") return memoized[param];\n        if (typeof style[param] !== \"undefined\") {\n            memoized[param] = param;\n            return param;\n        }\n        var camelCase = param[0].toUpperCase() + param.slice(1);\n        var prefixes = [\n            \"webkit\",\n            \"moz\",\n            \"Moz\",\n            \"ms\",\n            \"o\"\n        ];\n        var test;\n        for(var i = 0, len = prefixes.length; i < len; i++){\n            test = prefixes[i] + camelCase;\n            if (typeof style[test] !== \"undefined\") {\n                memoized[param] = test;\n                return test;\n            }\n        }\n    }\n    var has3d;\n    function translate(a, b, c) {\n        typeof has3d !== \"undefined\" || (has3d = check3d());\n        c = c || 0;\n        if (has3d) return \"translate3d(\" + a + \", \" + b + \", \" + c + \")\";\n        else return \"translate(\" + a + \", \" + b + \")\";\n    }\n    function check3d() {\n        // I admit, this line is stealed from the great Velocity.js!\n        // http://julian.com/research/velocity/\n        var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        if (!isMobile) return false;\n        var transform = prefix(\"transform\");\n        var $p = document.createElement(\"p\");\n        document.body.appendChild($p);\n        $p.style[transform] = \"translate3d(1px,1px,1px)\";\n        has3d = $p.style[transform];\n        has3d = has3d != null && has3d.length && has3d !== \"none\";\n        document.body.removeChild($p);\n        return has3d;\n    }\n    function createElement(type) {\n        return document.createElement(type);\n    }\n    var maxZ = 52;\n    function _card(i) {\n        var transform = prefix(\"transform\");\n        // calculate rank/suit, etc..\n        var rank = i % 13 + 1;\n        var suit = i / 13 | 0;\n        var z = (52 - i) / 4;\n        // create elements\n        var $el = createElement(\"div\");\n        var $face = createElement(\"div\");\n        var $back = createElement(\"div\");\n        // states\n        var isDraggable = false;\n        var isFlippable = false;\n        // self = card\n        var self = {\n            i: i,\n            rank: rank,\n            suit: suit,\n            pos: i,\n            $el: $el,\n            mount: mount,\n            unmount: unmount,\n            setSide: setSide\n        };\n        var modules = Deck.modules;\n        var module;\n        // add classes\n        $face.classList.add(\"face\");\n        $back.classList.add(\"back\");\n        // add default transform\n        $el.style[transform] = translate(-z + \"px\", -z + \"px\");\n        // add default values\n        self.x = -z;\n        self.y = -z;\n        self.z = z;\n        self.rot = 0;\n        // set default side to back\n        self.setSide(\"back\");\n        // add drag/click listeners\n        addListener($el, \"mousedown\", onMousedown);\n        addListener($el, \"touchstart\", onMousedown);\n        // load modules\n        for(module in modules)addModule(modules[module]);\n        self.animateTo = function(params) {\n            var delay = params.delay;\n            var duration = params.duration;\n            var _params$x = params.x;\n            var x = _params$x === undefined ? self.x : _params$x;\n            var _params$y = params.y;\n            var y = _params$y === undefined ? self.y : _params$y;\n            var _params$rot = params.rot;\n            var rot = _params$rot === undefined ? self.rot : _params$rot;\n            var ease$$ = params.ease;\n            var onStart = params.onStart;\n            var onProgress = params.onProgress;\n            var onComplete = params.onComplete;\n            var startX, startY, startRot;\n            var diffX, diffY, diffRot;\n            animationFrames(delay, duration).start(function() {\n                startX = self.x || 0;\n                startY = self.y || 0;\n                startRot = self.rot || 0;\n                onStart && onStart();\n            }).progress(function(t) {\n                var et = ease[ease$$ || \"cubicInOut\"](t);\n                diffX = x - startX;\n                diffY = y - startY;\n                diffRot = rot - startRot;\n                onProgress && onProgress(t, et);\n                self.x = startX + diffX * et;\n                self.y = startY + diffY * et;\n                self.rot = startRot + diffRot * et;\n                $el.style[transform] = translate(self.x + \"px\", self.y + \"px\") + (diffRot ? \"rotate(\" + self.rot + \"deg)\" : \"\");\n            }).end(function() {\n                onComplete && onComplete();\n            });\n        };\n        // set rank & suit\n        self.setRankSuit = function(rank, suit) {\n            var suitName = SuitName(suit);\n            $el.setAttribute(\"class\", \"card \" + suitName + \" rank\" + rank);\n        };\n        self.setRankSuit(rank, suit);\n        self.enableDragging = function() {\n            // this activates dragging\n            if (isDraggable) // already is draggable, do nothing\n            return;\n            isDraggable = true;\n            $el.style.cursor = \"move\";\n        };\n        self.enableFlipping = function() {\n            if (isFlippable) // already is flippable, do nothing.\n            return;\n            isFlippable = true;\n        };\n        self.disableFlipping = function() {\n            if (!isFlippable) // already disabled flipping, do nothing.\n            return;\n            isFlippable = false;\n        };\n        self.disableDragging = function() {\n            if (!isDraggable) // already disabled dragging, do nothing\n            return;\n            isDraggable = false;\n            $el.style.cursor = \"\";\n        };\n        return self;\n        function addModule(module) {\n            // add card module\n            module.card && module.card(self);\n        }\n        function onMousedown(e) {\n            var startPos = {};\n            var pos = {};\n            var starttime = Date.now();\n            e.preventDefault();\n            // get start coordinates and start listening window events\n            if (e.type === \"mousedown\") {\n                startPos.x = pos.x = e.clientX;\n                startPos.y = pos.y = e.clientY;\n                addListener(window, \"mousemove\", onMousemove);\n                addListener(window, \"mouseup\", onMouseup);\n            } else {\n                startPos.x = pos.x = e.touches[0].clientX;\n                startPos.y = pos.y = e.touches[0].clientY;\n                addListener(window, \"touchmove\", onMousemove);\n                addListener(window, \"touchend\", onMouseup);\n            }\n            if (!isDraggable) // is not draggable, do nothing\n            return;\n            // move card\n            $el.style[transform] = translate(self.x + \"px\", self.y + \"px\") + (self.rot ? \" rotate(\" + self.rot + \"deg)\" : \"\");\n            $el.style.zIndex = maxZ++;\n            function onMousemove(e) {\n                if (!isDraggable) // is not draggable, do nothing\n                return;\n                if (e.type === \"mousemove\") {\n                    pos.x = e.clientX;\n                    pos.y = e.clientY;\n                } else {\n                    pos.x = e.touches[0].clientX;\n                    pos.y = e.touches[0].clientY;\n                }\n                // move card\n                $el.style[transform] = translate(Math.round(self.x + pos.x - startPos.x) + \"px\", Math.round(self.y + pos.y - startPos.y) + \"px\") + (self.rot ? \" rotate(\" + self.rot + \"deg)\" : \"\");\n            }\n            function onMouseup(e) {\n                if (isFlippable && Date.now() - starttime < 200) // flip sides\n                self.setSide(self.side === \"front\" ? \"back\" : \"front\");\n                if (e.type === \"mouseup\") {\n                    removeListener(window, \"mousemove\", onMousemove);\n                    removeListener(window, \"mouseup\", onMouseup);\n                } else {\n                    removeListener(window, \"touchmove\", onMousemove);\n                    removeListener(window, \"touchend\", onMouseup);\n                }\n                if (!isDraggable) // is not draggable, do nothing\n                return;\n                // set current position\n                self.x = self.x + pos.x - startPos.x;\n                self.y = self.y + pos.y - startPos.y;\n            }\n        }\n        function mount(target) {\n            // mount card to target (deck)\n            target.appendChild($el);\n            self.$root = target;\n        }\n        function unmount() {\n            // unmount from root (deck)\n            self.$root && self.$root.removeChild($el);\n            self.$root = null;\n        }\n        function setSide(newSide) {\n            // flip sides\n            if (newSide === \"front\") {\n                if (self.side === \"back\") $el.removeChild($back);\n                self.side = \"front\";\n                $el.appendChild($face);\n                self.setRankSuit(self.rank, self.suit);\n            } else {\n                if (self.side === \"front\") $el.removeChild($face);\n                self.side = \"back\";\n                $el.appendChild($back);\n                $el.setAttribute(\"class\", \"card\");\n            }\n        }\n    }\n    function SuitName(suit) {\n        // return suit name from suit value\n        return suit === 0 ? \"spades\" : suit === 1 ? \"hearts\" : suit === 2 ? \"clubs\" : suit === 3 ? \"diamonds\" : \"joker\";\n    }\n    function addListener(target, name, listener) {\n        target.addEventListener(name, listener);\n    }\n    function removeListener(target, name, listener) {\n        target.removeEventListener(name, listener);\n    }\n    var ease = {\n        linear: function linear(t) {\n            return t;\n        },\n        quadIn: function quadIn(t) {\n            return t * t;\n        },\n        quadOut: function quadOut(t) {\n            return t * (2 - t);\n        },\n        quadInOut: function quadInOut(t) {\n            return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n        },\n        cubicIn: function cubicIn(t) {\n            return t * t * t;\n        },\n        cubicOut: function cubicOut(t) {\n            return --t * t * t + 1;\n        },\n        cubicInOut: function cubicInOut(t) {\n            return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n        },\n        quartIn: function quartIn(t) {\n            return t * t * t * t;\n        },\n        quartOut: function quartOut(t) {\n            return 1 - --t * t * t * t;\n        },\n        quartInOut: function quartInOut(t) {\n            return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n        },\n        quintIn: function quintIn(t) {\n            return t * t * t * t * t;\n        },\n        quintOut: function quintOut(t) {\n            return 1 + --t * t * t * t * t;\n        },\n        quintInOut: function quintInOut(t) {\n            return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n        }\n    };\n    var flip = {\n        deck: function deck(_deck) {\n            _deck.flip = _deck.queued(flip);\n            function flip(next, side) {\n                var flipped = _deck.cards.filter(function(card) {\n                    return card.side === \"front\";\n                }).length / _deck.cards.length;\n                _deck.cards.forEach(function(card, i) {\n                    card.setSide(side ? side : flipped > 0.5 ? \"back\" : \"front\");\n                });\n                next();\n            }\n        }\n    };\n    var sort = {\n        deck: function deck(_deck2) {\n            _deck2.sort = _deck2.queued(sort);\n            function sort(next, reverse) {\n                var cards = _deck2.cards;\n                cards.sort(function(a, b) {\n                    if (reverse) return a.i - b.i;\n                    else return b.i - a.i;\n                });\n                cards.forEach(function(card, i) {\n                    card.sort(i, cards.length, function(i) {\n                        if (i === cards.length - 1) next();\n                    }, reverse);\n                });\n            }\n        },\n        card: function card(_card2) {\n            var $el = _card2.$el;\n            _card2.sort = function(i, len, cb, reverse) {\n                var z = i / 4;\n                var delay = i * 10;\n                _card2.animateTo({\n                    delay: delay,\n                    duration: 400,\n                    x: -z,\n                    y: -150,\n                    rot: 0,\n                    onComplete: function onComplete() {\n                        $el.style.zIndex = i;\n                    }\n                });\n                _card2.animateTo({\n                    delay: delay + 500,\n                    duration: 400,\n                    x: -z,\n                    y: -z,\n                    rot: 0,\n                    onComplete: function onComplete() {\n                        cb(i);\n                    }\n                });\n            };\n        }\n    };\n    function plusminus(value) {\n        var plusminus = Math.round(Math.random()) ? -1 : 1;\n        return plusminus * value;\n    }\n    function fisherYates(array) {\n        var rnd, temp;\n        for(var i = array.length - 1; i; i--){\n            rnd = Math.random() * i | 0;\n            temp = array[i];\n            array[i] = array[rnd];\n            array[rnd] = temp;\n        }\n        return array;\n    }\n    function fontSize() {\n        return window.getComputedStyle(document.body).getPropertyValue(\"font-size\").slice(0, -2);\n    }\n    var ____fontSize;\n    var shuffle = {\n        deck: function deck(_deck3) {\n            _deck3.shuffle = _deck3.queued(shuffle);\n            function shuffle(next) {\n                var cards = _deck3.cards;\n                ____fontSize = fontSize();\n                fisherYates(cards);\n                cards.forEach(function(card, i) {\n                    card.pos = i;\n                    card.shuffle(function(i) {\n                        if (i === cards.length - 1) next();\n                    });\n                });\n                return;\n            }\n        },\n        card: function card(_card3) {\n            var $el = _card3.$el;\n            _card3.shuffle = function(cb) {\n                var i = _card3.pos;\n                var z = i / 4;\n                var delay = i * 2;\n                _card3.animateTo({\n                    delay: delay,\n                    duration: 200,\n                    x: plusminus(Math.random() * 40 + 20) * ____fontSize / 16,\n                    y: -z,\n                    rot: 0\n                });\n                _card3.animateTo({\n                    delay: 200 + delay,\n                    duration: 200,\n                    x: -z,\n                    y: -z,\n                    rot: 0,\n                    onStart: function onStart() {\n                        $el.style.zIndex = i;\n                    },\n                    onComplete: function onComplete() {\n                        cb(i);\n                    }\n                });\n            };\n        }\n    };\n    var __fontSize;\n    var poker = {\n        deck: function deck(_deck4) {\n            _deck4.poker = _deck4.queued(poker);\n            function poker(next) {\n                var cards = _deck4.cards;\n                var len = cards.length;\n                __fontSize = fontSize();\n                cards.slice(-5).reverse().forEach(function(card, i) {\n                    card.poker(i, len, function(i) {\n                        card.setSide(\"front\");\n                        if (i === 4) next();\n                    });\n                });\n            }\n        },\n        card: function card(_card4) {\n            var $el = _card4.$el;\n            _card4.poker = function(i, len, cb) {\n                var delay = i * 250;\n                _card4.animateTo({\n                    delay: delay,\n                    duration: 250,\n                    x: Math.round((i - 2.05) * 70 * __fontSize / 16),\n                    y: Math.round(-110 * __fontSize / 16),\n                    rot: 0,\n                    onStart: function onStart() {\n                        $el.style.zIndex = len - 1 + i;\n                    },\n                    onComplete: function onComplete() {\n                        cb(i);\n                    }\n                });\n            };\n        }\n    };\n    var intro = {\n        deck: function deck(_deck5) {\n            _deck5.intro = _deck5.queued(intro);\n            function intro(next) {\n                var cards = _deck5.cards;\n                cards.forEach(function(card, i) {\n                    card.setSide(\"front\");\n                    card.intro(i, function(i) {\n                        animationFrames(250, 0).start(function() {\n                            card.setSide(\"back\");\n                        });\n                        if (i === cards.length - 1) next();\n                    });\n                });\n            }\n        },\n        card: function card(_card5) {\n            var transform = prefix(\"transform\");\n            var $el = _card5.$el;\n            _card5.intro = function(i, cb) {\n                var delay = 500 + i * 10;\n                var z = i / 4;\n                $el.style[transform] = translate(-z + \"px\", \"-250px\");\n                $el.style.opacity = 0;\n                _card5.x = -z;\n                _card5.y = -250 - z;\n                _card5.rot = 0;\n                _card5.animateTo({\n                    delay: delay,\n                    duration: 1000,\n                    x: -z,\n                    y: -z,\n                    onStart: function onStart() {\n                        $el.style.zIndex = i;\n                    },\n                    onProgress: function onProgress(t) {\n                        $el.style.opacity = t;\n                    },\n                    onComplete: function onComplete() {\n                        $el.style.opacity = \"\";\n                        cb && cb(i);\n                    }\n                });\n            };\n        }\n    };\n    var _fontSize;\n    var fan = {\n        deck: function deck(_deck6) {\n            _deck6.fan = _deck6.queued(fan);\n            function fan(next) {\n                var cards = _deck6.cards;\n                var len = cards.length;\n                _fontSize = fontSize();\n                cards.forEach(function(card, i) {\n                    card.fan(i, len, function(i) {\n                        if (i === cards.length - 1) next();\n                    });\n                });\n            }\n        },\n        card: function card(_card6) {\n            var $el = _card6.$el;\n            _card6.fan = function(i, len, cb) {\n                var z = i / 4;\n                var delay = i * 10;\n                var rot = i / (len - 1) * 260 - 130;\n                _card6.animateTo({\n                    delay: delay,\n                    duration: 300,\n                    x: -z,\n                    y: -z,\n                    rot: 0\n                });\n                _card6.animateTo({\n                    delay: 300 + delay,\n                    duration: 300,\n                    x: Math.cos(deg2rad(rot - 90)) * 55 * _fontSize / 16,\n                    y: Math.sin(deg2rad(rot - 90)) * 55 * _fontSize / 16,\n                    rot: rot,\n                    onStart: function onStart() {\n                        $el.style.zIndex = i;\n                    },\n                    onComplete: function onComplete() {\n                        cb(i);\n                    }\n                });\n            };\n        }\n    };\n    function deg2rad(degrees) {\n        return degrees * Math.PI / 180;\n    }\n    var ___fontSize;\n    var bysuit = {\n        deck: function deck(_deck7) {\n            _deck7.bysuit = _deck7.queued(bysuit);\n            function bysuit(next) {\n                var cards = _deck7.cards;\n                ___fontSize = fontSize();\n                cards.forEach(function(card) {\n                    card.bysuit(function(i) {\n                        if (i === cards.length - 1) next();\n                    });\n                });\n            }\n        },\n        card: function card(_card7) {\n            var rank = _card7.rank;\n            var suit = _card7.suit;\n            _card7.bysuit = function(cb) {\n                var i = _card7.i;\n                var delay = i * 10;\n                _card7.animateTo({\n                    delay: delay,\n                    duration: 400,\n                    x: -Math.round((6.75 - rank) * 8 * ___fontSize / 16),\n                    y: -Math.round((1.5 - suit) * 92 * ___fontSize / 16),\n                    rot: 0,\n                    onComplete: function onComplete() {\n                        cb(i);\n                    }\n                });\n            };\n        }\n    };\n    function queue(target) {\n        var array = Array.prototype;\n        var queueing = [];\n        target.queue = queue;\n        target.queued = queued;\n        return target;\n        function queued(action) {\n            return function() {\n                var self = this;\n                var args = arguments;\n                queue(function(next) {\n                    action.apply(self, array.concat.apply(next, args));\n                });\n            };\n        }\n        function queue(action) {\n            if (!action) return;\n            queueing.push(action);\n            if (queueing.length === 1) next();\n        }\n        function next() {\n            queueing[0](function(err) {\n                if (err) throw err;\n                queueing = queueing.slice(1);\n                if (queueing.length) next();\n            });\n        }\n    }\n    function observable(target) {\n        target || (target = {});\n        var listeners = {};\n        target.on = on;\n        target.one = one;\n        target.off = off;\n        target.trigger = trigger;\n        return target;\n        function on(name, cb, ctx) {\n            listeners[name] || (listeners[name] = []);\n            listeners[name].push({\n                cb: cb,\n                ctx: ctx\n            });\n        }\n        function one(name, cb, ctx) {\n            listeners[name] || (listeners[name] = []);\n            listeners[name].push({\n                cb: cb,\n                ctx: ctx,\n                once: true\n            });\n        }\n        function trigger(name) {\n            var self = this;\n            var args = Array.prototype.slice(arguments, 1);\n            var currentListeners = listeners[name] || [];\n            currentListeners.filter(function(listener) {\n                listener.cb.apply(self, args);\n                return !listener.once;\n            });\n        }\n        function off(name, cb) {\n            if (!name) {\n                listeners = {};\n                return;\n            }\n            if (!cb) {\n                listeners[name] = [];\n                return;\n            }\n            listeners[name] = listeners[name].filter(function(listener) {\n                return listener.cb !== cb;\n            });\n        }\n    }\n    function Deck(jokers) {\n        // init cards array\n        var cards = new Array(jokers ? 55 : 52);\n        var $el = createElement(\"div\");\n        var self = observable({\n            mount: mount,\n            unmount: unmount,\n            cards: cards,\n            $el: $el\n        });\n        var $root;\n        var modules = Deck.modules;\n        var module;\n        // make queueable\n        queue(self);\n        // load modules\n        for(module in modules)addModule(modules[module]);\n        // add class\n        $el.classList.add(\"deck\");\n        var card;\n        // create cards\n        for(var i = cards.length; i; i--){\n            card = cards[i - 1] = _card(i - 1);\n            card.setSide(\"back\");\n            card.mount($el);\n        }\n        return self;\n        function mount(root) {\n            // mount deck to root\n            $root = root;\n            $root.appendChild($el);\n        }\n        function unmount() {\n            // unmount deck from root\n            $root.removeChild($el);\n        }\n        function addModule(module) {\n            module.deck && module.deck(self);\n        }\n    }\n    Deck.animationFrames = animationFrames;\n    Deck.ease = ease;\n    Deck.modules = {\n        bysuit: bysuit,\n        fan: fan,\n        intro: intro,\n        poker: poker,\n        shuffle: shuffle,\n        sort: sort,\n        flip: flip\n    };\n    Deck.Card = _card;\n    Deck.prefix = prefix;\n    Deck.translate = translate;\n    return Deck;\n}();\n\n//# sourceMappingURL=deck_of_cards.91725661.js.map\n","'use strict';\n\nvar Deck = (function () {\n  'use strict';\n\n  var ticking;\n  var animations = [];\n\n  function animationFrames(delay, duration) {\n    var now = Date.now();\n\n    // calculate animation start/end times\n    var start = now + delay;\n    var end = start + duration;\n\n    var animation = {\n      start: start,\n      end: end\n    };\n\n    // add animation\n    animations.push(animation);\n\n    if (!ticking) {\n      // start ticking\n      ticking = true;\n      requestAnimationFrame(tick);\n    }\n    var self = {\n      start: function start(cb) {\n        // add start callback (just one)\n        animation.startcb = cb;\n        return self;\n      },\n      progress: function progress(cb) {\n        // add progress callback (just one)\n        animation.progresscb = cb;\n        return self;\n      },\n      end: function end(cb) {\n        // add end callback (just one)\n        animation.endcb = cb;\n        return self;\n      }\n    };\n    return self;\n  }\n\n  function tick() {\n    var now = Date.now();\n\n    if (!animations.length) {\n      // stop ticking\n      ticking = false;\n      return;\n    }\n\n    for (var i = 0, animation; i < animations.length; i++) {\n      animation = animations[i];\n      if (now < animation.start) {\n        // animation not yet started..\n        continue;\n      }\n      if (!animation.started) {\n        // animation starts\n        animation.started = true;\n        animation.startcb && animation.startcb();\n      }\n      // animation progress\n      var t = (now - animation.start) / (animation.end - animation.start);\n      animation.progresscb && animation.progresscb(t < 1 ? t : 1);\n      if (now > animation.end) {\n        // animation ended\n        animation.endcb && animation.endcb();\n        animations.splice(i--, 1);\n        continue;\n      }\n    }\n    requestAnimationFrame(tick);\n  }\n\n  // fallback\n  window.requestAnimationFrame || (window.requestAnimationFrame = function (cb) {\n    setTimeout(cb, 0);\n  });\n\n  var style = document.createElement('p').style;\n  var memoized = {};\n\n  function prefix(param) {\n    if (typeof memoized[param] !== 'undefined') {\n      return memoized[param];\n    }\n\n    if (typeof style[param] !== 'undefined') {\n      memoized[param] = param;\n      return param;\n    }\n\n    var camelCase = param[0].toUpperCase() + param.slice(1);\n    var prefixes = ['webkit', 'moz', 'Moz', 'ms', 'o'];\n    var test;\n\n    for (var i = 0, len = prefixes.length; i < len; i++) {\n      test = prefixes[i] + camelCase;\n      if (typeof style[test] !== 'undefined') {\n        memoized[param] = test;\n        return test;\n      }\n    }\n  }\n\n  var has3d;\n\n  function translate(a, b, c) {\n    typeof has3d !== 'undefined' || (has3d = check3d());\n\n    c = c || 0;\n\n    if (has3d) {\n      return 'translate3d(' + a + ', ' + b + ', ' + c + ')';\n    } else {\n      return 'translate(' + a + ', ' + b + ')';\n    }\n  }\n\n  function check3d() {\n    // I admit, this line is stealed from the great Velocity.js!\n    // http://julian.com/research/velocity/\n    var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\n    if (!isMobile) {\n      return false;\n    }\n\n    var transform = prefix('transform');\n    var $p = document.createElement('p');\n\n    document.body.appendChild($p);\n    $p.style[transform] = 'translate3d(1px,1px,1px)';\n\n    has3d = $p.style[transform];\n    has3d = has3d != null && has3d.length && has3d !== 'none';\n\n    document.body.removeChild($p);\n\n    return has3d;\n  }\n\n  function createElement(type) {\n    return document.createElement(type);\n  }\n\n  var maxZ = 52;\n\n  function _card(i) {\n    var transform = prefix('transform');\n\n    // calculate rank/suit, etc..\n    var rank = i % 13 + 1;\n    var suit = i / 13 | 0;\n    var z = (52 - i) / 4;\n\n    // create elements\n    var $el = createElement('div');\n    var $face = createElement('div');\n    var $back = createElement('div');\n\n    // states\n    var isDraggable = false;\n    var isFlippable = false;\n\n    // self = card\n    var self = { i: i, rank: rank, suit: suit, pos: i, $el: $el, mount: mount, unmount: unmount, setSide: setSide };\n\n    var modules = Deck.modules;\n    var module;\n\n    // add classes\n    $face.classList.add('face');\n    $back.classList.add('back');\n\n    // add default transform\n    $el.style[transform] = translate(-z + 'px', -z + 'px');\n\n    // add default values\n    self.x = -z;\n    self.y = -z;\n    self.z = z;\n    self.rot = 0;\n\n    // set default side to back\n    self.setSide('back');\n\n    // add drag/click listeners\n    addListener($el, 'mousedown', onMousedown);\n    addListener($el, 'touchstart', onMousedown);\n\n    // load modules\n    for (module in modules) {\n      addModule(modules[module]);\n    }\n\n    self.animateTo = function (params) {\n      var delay = params.delay;\n      var duration = params.duration;\n      var _params$x = params.x;\n      var x = _params$x === undefined ? self.x : _params$x;\n      var _params$y = params.y;\n      var y = _params$y === undefined ? self.y : _params$y;\n      var _params$rot = params.rot;\n      var rot = _params$rot === undefined ? self.rot : _params$rot;\n      var ease$$ = params.ease;\n      var onStart = params.onStart;\n      var onProgress = params.onProgress;\n      var onComplete = params.onComplete;\n\n      var startX, startY, startRot;\n      var diffX, diffY, diffRot;\n\n      animationFrames(delay, duration).start(function () {\n        startX = self.x || 0;\n        startY = self.y || 0;\n        startRot = self.rot || 0;\n        onStart && onStart();\n      }).progress(function (t) {\n        var et = ease[ease$$ || 'cubicInOut'](t);\n\n        diffX = x - startX;\n        diffY = y - startY;\n        diffRot = rot - startRot;\n\n        onProgress && onProgress(t, et);\n\n        self.x = startX + diffX * et;\n        self.y = startY + diffY * et;\n        self.rot = startRot + diffRot * et;\n\n        $el.style[transform] = translate(self.x + 'px', self.y + 'px') + (diffRot ? 'rotate(' + self.rot + 'deg)' : '');\n      }).end(function () {\n        onComplete && onComplete();\n      });\n    };\n\n    // set rank & suit\n    self.setRankSuit = function (rank, suit) {\n      var suitName = SuitName(suit);\n      $el.setAttribute('class', 'card ' + suitName + ' rank' + rank);\n    };\n\n    self.setRankSuit(rank, suit);\n\n    self.enableDragging = function () {\n      // this activates dragging\n      if (isDraggable) {\n        // already is draggable, do nothing\n        return;\n      }\n      isDraggable = true;\n      $el.style.cursor = 'move';\n    };\n\n    self.enableFlipping = function () {\n      if (isFlippable) {\n        // already is flippable, do nothing.\n        return;\n      }\n      isFlippable = true;\n    };\n\n    self.disableFlipping = function () {\n      if (!isFlippable) {\n        // already disabled flipping, do nothing.\n        return;\n      }\n      isFlippable = false;\n    };\n\n    self.disableDragging = function () {\n      if (!isDraggable) {\n        // already disabled dragging, do nothing\n        return;\n      }\n      isDraggable = false;\n      $el.style.cursor = '';\n    };\n\n    return self;\n\n    function addModule(module) {\n      // add card module\n      module.card && module.card(self);\n    }\n\n    function onMousedown(e) {\n      var startPos = {};\n      var pos = {};\n      var starttime = Date.now();\n\n      e.preventDefault();\n\n      // get start coordinates and start listening window events\n      if (e.type === 'mousedown') {\n        startPos.x = pos.x = e.clientX;\n        startPos.y = pos.y = e.clientY;\n        addListener(window, 'mousemove', onMousemove);\n        addListener(window, 'mouseup', onMouseup);\n      } else {\n        startPos.x = pos.x = e.touches[0].clientX;\n        startPos.y = pos.y = e.touches[0].clientY;\n        addListener(window, 'touchmove', onMousemove);\n        addListener(window, 'touchend', onMouseup);\n      }\n\n      if (!isDraggable) {\n        // is not draggable, do nothing\n        return;\n      }\n\n      // move card\n      $el.style[transform] = translate(self.x + 'px', self.y + 'px') + (self.rot ? ' rotate(' + self.rot + 'deg)' : '');\n      $el.style.zIndex = maxZ++;\n\n      function onMousemove(e) {\n        if (!isDraggable) {\n          // is not draggable, do nothing\n          return;\n        }\n        if (e.type === 'mousemove') {\n          pos.x = e.clientX;\n          pos.y = e.clientY;\n        } else {\n          pos.x = e.touches[0].clientX;\n          pos.y = e.touches[0].clientY;\n        }\n\n        // move card\n        $el.style[transform] = translate(Math.round(self.x + pos.x - startPos.x) + 'px', Math.round(self.y + pos.y - startPos.y) + 'px') + (self.rot ? ' rotate(' + self.rot + 'deg)' : '');\n      }\n\n      function onMouseup(e) {\n        if (isFlippable && Date.now() - starttime < 200) {\n          // flip sides\n          self.setSide(self.side === 'front' ? 'back' : 'front');\n        }\n        if (e.type === 'mouseup') {\n          removeListener(window, 'mousemove', onMousemove);\n          removeListener(window, 'mouseup', onMouseup);\n        } else {\n          removeListener(window, 'touchmove', onMousemove);\n          removeListener(window, 'touchend', onMouseup);\n        }\n        if (!isDraggable) {\n          // is not draggable, do nothing\n          return;\n        }\n\n        // set current position\n        self.x = self.x + pos.x - startPos.x;\n        self.y = self.y + pos.y - startPos.y;\n      }\n    }\n\n    function mount(target) {\n      // mount card to target (deck)\n      target.appendChild($el);\n\n      self.$root = target;\n    }\n\n    function unmount() {\n      // unmount from root (deck)\n      self.$root && self.$root.removeChild($el);\n      self.$root = null;\n    }\n\n    function setSide(newSide) {\n      // flip sides\n      if (newSide === 'front') {\n        if (self.side === 'back') {\n          $el.removeChild($back);\n        }\n        self.side = 'front';\n        $el.appendChild($face);\n        self.setRankSuit(self.rank, self.suit);\n      } else {\n        if (self.side === 'front') {\n          $el.removeChild($face);\n        }\n        self.side = 'back';\n        $el.appendChild($back);\n        $el.setAttribute('class', 'card');\n      }\n    }\n  }\n\n  function SuitName(suit) {\n    // return suit name from suit value\n    return suit === 0 ? 'spades' : suit === 1 ? 'hearts' : suit === 2 ? 'clubs' : suit === 3 ? 'diamonds' : 'joker';\n  }\n\n  function addListener(target, name, listener) {\n    target.addEventListener(name, listener);\n  }\n\n  function removeListener(target, name, listener) {\n    target.removeEventListener(name, listener);\n  }\n\n  var ease = {\n    linear: function linear(t) {\n      return t;\n    },\n    quadIn: function quadIn(t) {\n      return t * t;\n    },\n    quadOut: function quadOut(t) {\n      return t * (2 - t);\n    },\n    quadInOut: function quadInOut(t) {\n      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    },\n    cubicIn: function cubicIn(t) {\n      return t * t * t;\n    },\n    cubicOut: function cubicOut(t) {\n      return --t * t * t + 1;\n    },\n    cubicInOut: function cubicInOut(t) {\n      return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n    },\n    quartIn: function quartIn(t) {\n      return t * t * t * t;\n    },\n    quartOut: function quartOut(t) {\n      return 1 - --t * t * t * t;\n    },\n    quartInOut: function quartInOut(t) {\n      return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n    },\n    quintIn: function quintIn(t) {\n      return t * t * t * t * t;\n    },\n    quintOut: function quintOut(t) {\n      return 1 + --t * t * t * t * t;\n    },\n    quintInOut: function quintInOut(t) {\n      return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n    }\n  };\n\n  var flip = {\n    deck: function deck(_deck) {\n      _deck.flip = _deck.queued(flip);\n\n      function flip(next, side) {\n        var flipped = _deck.cards.filter(function (card) {\n          return card.side === 'front';\n        }).length / _deck.cards.length;\n\n        _deck.cards.forEach(function (card, i) {\n          card.setSide(side ? side : flipped > 0.5 ? 'back' : 'front');\n        });\n        next();\n      }\n    }\n  };\n\n  var sort = {\n    deck: function deck(_deck2) {\n      _deck2.sort = _deck2.queued(sort);\n\n      function sort(next, reverse) {\n        var cards = _deck2.cards;\n\n        cards.sort(function (a, b) {\n          if (reverse) {\n            return a.i - b.i;\n          } else {\n            return b.i - a.i;\n          }\n        });\n\n        cards.forEach(function (card, i) {\n          card.sort(i, cards.length, function (i) {\n            if (i === cards.length - 1) {\n              next();\n            }\n          }, reverse);\n        });\n      }\n    },\n    card: function card(_card2) {\n      var $el = _card2.$el;\n\n      _card2.sort = function (i, len, cb, reverse) {\n        var z = i / 4;\n        var delay = i * 10;\n\n        _card2.animateTo({\n          delay: delay,\n          duration: 400,\n\n          x: -z,\n          y: -150,\n          rot: 0,\n\n          onComplete: function onComplete() {\n            $el.style.zIndex = i;\n          }\n        });\n\n        _card2.animateTo({\n          delay: delay + 500,\n          duration: 400,\n\n          x: -z,\n          y: -z,\n          rot: 0,\n\n          onComplete: function onComplete() {\n            cb(i);\n          }\n        });\n      };\n    }\n  };\n\n  function plusminus(value) {\n    var plusminus = Math.round(Math.random()) ? -1 : 1;\n\n    return plusminus * value;\n  }\n\n  function fisherYates(array) {\n    var rnd, temp;\n\n    for (var i = array.length - 1; i; i--) {\n      rnd = Math.random() * i | 0;\n      temp = array[i];\n      array[i] = array[rnd];\n      array[rnd] = temp;\n    }\n\n    return array;\n  }\n\n  function fontSize() {\n    return window.getComputedStyle(document.body).getPropertyValue('font-size').slice(0, -2);\n  }\n\n  var ____fontSize;\n\n  var shuffle = {\n    deck: function deck(_deck3) {\n      _deck3.shuffle = _deck3.queued(shuffle);\n\n      function shuffle(next) {\n        var cards = _deck3.cards;\n\n        ____fontSize = fontSize();\n\n        fisherYates(cards);\n\n        cards.forEach(function (card, i) {\n          card.pos = i;\n\n          card.shuffle(function (i) {\n            if (i === cards.length - 1) {\n              next();\n            }\n          });\n        });\n        return;\n      }\n    },\n\n    card: function card(_card3) {\n      var $el = _card3.$el;\n\n      _card3.shuffle = function (cb) {\n        var i = _card3.pos;\n        var z = i / 4;\n        var delay = i * 2;\n\n        _card3.animateTo({\n          delay: delay,\n          duration: 200,\n\n          x: plusminus(Math.random() * 40 + 20) * ____fontSize / 16,\n          y: -z,\n          rot: 0\n        });\n        _card3.animateTo({\n          delay: 200 + delay,\n          duration: 200,\n\n          x: -z,\n          y: -z,\n          rot: 0,\n\n          onStart: function onStart() {\n            $el.style.zIndex = i;\n          },\n\n          onComplete: function onComplete() {\n            cb(i);\n          }\n        });\n      };\n    }\n  };\n\n  var __fontSize;\n\n  var poker = {\n    deck: function deck(_deck4) {\n      _deck4.poker = _deck4.queued(poker);\n\n      function poker(next) {\n        var cards = _deck4.cards;\n        var len = cards.length;\n\n        __fontSize = fontSize();\n\n        cards.slice(-5).reverse().forEach(function (card, i) {\n          card.poker(i, len, function (i) {\n            card.setSide('front');\n            if (i === 4) {\n              next();\n            }\n          });\n        });\n      }\n    },\n    card: function card(_card4) {\n      var $el = _card4.$el;\n\n      _card4.poker = function (i, len, cb) {\n        var delay = i * 250;\n\n        _card4.animateTo({\n          delay: delay,\n          duration: 250,\n\n          x: Math.round((i - 2.05) * 70 * __fontSize / 16),\n          y: Math.round(-110 * __fontSize / 16),\n          rot: 0,\n\n          onStart: function onStart() {\n            $el.style.zIndex = len - 1 + i;\n          },\n          onComplete: function onComplete() {\n            cb(i);\n          }\n        });\n      };\n    }\n  };\n\n  var intro = {\n    deck: function deck(_deck5) {\n      _deck5.intro = _deck5.queued(intro);\n\n      function intro(next) {\n        var cards = _deck5.cards;\n\n        cards.forEach(function (card, i) {\n          card.setSide('front');\n          card.intro(i, function (i) {\n            animationFrames(250, 0).start(function () {\n              card.setSide('back');\n            });\n            if (i === cards.length - 1) {\n              next();\n            }\n          });\n        });\n      }\n    },\n    card: function card(_card5) {\n      var transform = prefix('transform');\n\n      var $el = _card5.$el;\n\n      _card5.intro = function (i, cb) {\n        var delay = 500 + i * 10;\n        var z = i / 4;\n\n        $el.style[transform] = translate(-z + 'px', '-250px');\n        $el.style.opacity = 0;\n\n        _card5.x = -z;\n        _card5.y = -250 - z;\n        _card5.rot = 0;\n\n        _card5.animateTo({\n          delay: delay,\n          duration: 1000,\n\n          x: -z,\n          y: -z,\n\n          onStart: function onStart() {\n            $el.style.zIndex = i;\n          },\n          onProgress: function onProgress(t) {\n            $el.style.opacity = t;\n          },\n          onComplete: function onComplete() {\n            $el.style.opacity = '';\n            cb && cb(i);\n          }\n        });\n      };\n    }\n  };\n\n  var _fontSize;\n\n  var fan = {\n    deck: function deck(_deck6) {\n      _deck6.fan = _deck6.queued(fan);\n\n      function fan(next) {\n        var cards = _deck6.cards;\n        var len = cards.length;\n\n        _fontSize = fontSize();\n\n        cards.forEach(function (card, i) {\n          card.fan(i, len, function (i) {\n            if (i === cards.length - 1) {\n              next();\n            }\n          });\n        });\n      }\n    },\n    card: function card(_card6) {\n      var $el = _card6.$el;\n\n      _card6.fan = function (i, len, cb) {\n        var z = i / 4;\n        var delay = i * 10;\n        var rot = i / (len - 1) * 260 - 130;\n\n        _card6.animateTo({\n          delay: delay,\n          duration: 300,\n\n          x: -z,\n          y: -z,\n          rot: 0\n        });\n        _card6.animateTo({\n          delay: 300 + delay,\n          duration: 300,\n\n          x: Math.cos(deg2rad(rot - 90)) * 55 * _fontSize / 16,\n          y: Math.sin(deg2rad(rot - 90)) * 55 * _fontSize / 16,\n          rot: rot,\n\n          onStart: function onStart() {\n            $el.style.zIndex = i;\n          },\n\n          onComplete: function onComplete() {\n            cb(i);\n          }\n        });\n      };\n    }\n  };\n\n  function deg2rad(degrees) {\n    return degrees * Math.PI / 180;\n  }\n\n  var ___fontSize;\n\n  var bysuit = {\n    deck: function deck(_deck7) {\n      _deck7.bysuit = _deck7.queued(bysuit);\n\n      function bysuit(next) {\n        var cards = _deck7.cards;\n\n        ___fontSize = fontSize();\n\n        cards.forEach(function (card) {\n          card.bysuit(function (i) {\n            if (i === cards.length - 1) {\n              next();\n            }\n          });\n        });\n      }\n    },\n    card: function card(_card7) {\n      var rank = _card7.rank;\n      var suit = _card7.suit;\n\n      _card7.bysuit = function (cb) {\n        var i = _card7.i;\n        var delay = i * 10;\n\n        _card7.animateTo({\n          delay: delay,\n          duration: 400,\n\n          x: -Math.round((6.75 - rank) * 8 * ___fontSize / 16),\n          y: -Math.round((1.5 - suit) * 92 * ___fontSize / 16),\n          rot: 0,\n\n          onComplete: function onComplete() {\n            cb(i);\n          }\n        });\n      };\n    }\n  };\n\n  function queue(target) {\n    var array = Array.prototype;\n\n    var queueing = [];\n\n    target.queue = queue;\n    target.queued = queued;\n\n    return target;\n\n    function queued(action) {\n      return function () {\n        var self = this;\n        var args = arguments;\n\n        queue(function (next) {\n          action.apply(self, array.concat.apply(next, args));\n        });\n      };\n    }\n\n    function queue(action) {\n      if (!action) {\n        return;\n      }\n\n      queueing.push(action);\n\n      if (queueing.length === 1) {\n        next();\n      }\n    }\n    function next() {\n      queueing[0](function (err) {\n        if (err) {\n          throw err;\n        }\n\n        queueing = queueing.slice(1);\n\n        if (queueing.length) {\n          next();\n        }\n      });\n    }\n  }\n\n  function observable(target) {\n    target || (target = {});\n    var listeners = {};\n\n    target.on = on;\n    target.one = one;\n    target.off = off;\n    target.trigger = trigger;\n\n    return target;\n\n    function on(name, cb, ctx) {\n      listeners[name] || (listeners[name] = []);\n      listeners[name].push({ cb: cb, ctx: ctx });\n    }\n\n    function one(name, cb, ctx) {\n      listeners[name] || (listeners[name] = []);\n      listeners[name].push({\n        cb: cb, ctx: ctx, once: true\n      });\n    }\n\n    function trigger(name) {\n      var self = this;\n      var args = Array.prototype.slice(arguments, 1);\n\n      var currentListeners = listeners[name] || [];\n\n      currentListeners.filter(function (listener) {\n        listener.cb.apply(self, args);\n\n        return !listener.once;\n      });\n    }\n\n    function off(name, cb) {\n      if (!name) {\n        listeners = {};\n        return;\n      }\n\n      if (!cb) {\n        listeners[name] = [];\n        return;\n      }\n\n      listeners[name] = listeners[name].filter(function (listener) {\n        return listener.cb !== cb;\n      });\n    }\n  }\n\n  function Deck(jokers) {\n    // init cards array\n    var cards = new Array(jokers ? 55 : 52);\n\n    var $el = createElement('div');\n    var self = observable({ mount: mount, unmount: unmount, cards: cards, $el: $el });\n    var $root;\n\n    var modules = Deck.modules;\n    var module;\n\n    // make queueable\n    queue(self);\n\n    // load modules\n    for (module in modules) {\n      addModule(modules[module]);\n    }\n\n    // add class\n    $el.classList.add('deck');\n\n    var card;\n\n    // create cards\n    for (var i = cards.length; i; i--) {\n      card = cards[i - 1] = _card(i - 1);\n      card.setSide('back');\n      card.mount($el);\n    }\n\n    return self;\n\n    function mount(root) {\n      // mount deck to root\n      $root = root;\n      $root.appendChild($el);\n    }\n\n    function unmount() {\n      // unmount deck from root\n      $root.removeChild($el);\n    }\n\n    function addModule(module) {\n      module.deck && module.deck(self);\n    }\n  }\n  Deck.animationFrames = animationFrames;\n  Deck.ease = ease;\n  Deck.modules = { bysuit: bysuit, fan: fan, intro: intro, poker: poker, shuffle: shuffle, sort: sort, flip: flip };\n  Deck.Card = _card;\n  Deck.prefix = prefix;\n  Deck.translate = translate;\n\n  return Deck;\n})();\n"],"names":["ticking","has3d","____fontSize","__fontSize","_fontSize","___fontSize","animations","animationFrames","delay","duration","start","now","Date","animation","end","push","requestAnimationFrame","tick","self","cb","startcb","progress","progresscb","endcb","length","i","started","t","splice","window","setTimeout","style","document","createElement","memoized","prefix","param","test","camelCase","toUpperCase","slice","prefixes","len","translate","a","b","c","check3d","navigator","userAgent","transform","$p","body","appendChild","removeChild","type","maxZ","_card","module","rank","suit","z","$el","$face","$back","isDraggable","isFlippable","pos","mount","target","$root","unmount","setSide","newSide","side","setRankSuit","setAttribute","modules","Deck","classList","add","x","y","rot","addListener","onMousedown","card","animateTo","params","startX","startY","startRot","diffX","diffY","diffRot","_params$x","undefined","_params$y","_params$rot","ease$$","ease","onStart","onProgress","onComplete","et","enableDragging","cursor","enableFlipping","disableFlipping","disableDragging","e","startPos","starttime","onMousemove","clientX","clientY","touches","Math","round","onMouseup","removeListener","preventDefault","zIndex","name","listener","addEventListener","removeEventListener","linear","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quartIn","quartOut","quartInOut","quintIn","quintOut","quintInOut","fontSize","getComputedStyle","getPropertyValue","deg2rad","degrees","PI","jokers","listeners","cards","Array","root","on","ctx","one","once","off","filter","trigger","args","prototype","arguments","currentListeners","apply","queue","array","queueing","queued","action","next","concat","err","deck","bysuit","_deck7","forEach","_card7","fan","_deck6","_card6","cos","sin","intro","_deck5","_card5","opacity","poker","_deck4","reverse","_card4","shuffle","_deck3","fisherYates","rnd","temp","random","_card3","plusminus","sort","_deck2","_card2","flip","_deck","flipped","Card"],"version":3,"file":"deck_of_cards.91725661.js.map"}