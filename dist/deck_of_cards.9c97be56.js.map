{"mappings":"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","sources":["<anon>","assets/example/example.js"],"sourcesContent":["/* global Deck */ // Prefixing for cross-browser compatibility\nvar prefix = Deck.prefix;\n// CSS transform property\nvar transform = prefix(\"transform\");\n// Function to create a button\nfunction createButton(text) {\n    var $button = document.createElement(\"button\");\n    $button.textContent = text;\n    return $button;\n}\n// Elements from the DOM\nvar $container = document.getElementById(\"container\");\nvar $topbar = document.getElementById(\"topbar\");\n// Creating buttons\nvar $sort = createButton(\"Sort\");\nvar $shuffle = createButton(\"Shuffle\");\nvar $bysuit = createButton(\"By suit\");\nvar $fan = createButton(\"Fan\");\nvar $poker = createButton(\"Poker\");\nvar $flip = createButton(\"Flip\");\n// Appending buttons to the top bar\n$topbar.appendChild($flip);\n$topbar.appendChild($shuffle);\n$topbar.appendChild($bysuit);\n$topbar.appendChild($fan);\n$topbar.appendChild($poker);\n$topbar.appendChild($sort);\n// Creating a deck\nvar deck = Deck();\n// Easter eggs start\nvar acesClicked = [];\nvar kingsClicked = [];\n// Adding event listeners to each card\ndeck.cards.forEach(function(card, i) {\n    card.enableDragging();\n    card.enableFlipping();\n    card.$el.addEventListener(\"mousedown\", onTouch);\n    card.$el.addEventListener(\"touchstart\", onTouch);\n    // Event handler for card touch\n    function onTouch() {\n        var card;\n        if (i % 13 === 0) {\n            acesClicked[i] = true;\n            if (acesClicked.filter(function(ace) {\n                return ace;\n            }).length === 4) {\n                document.body.removeChild($topbar);\n                deck.$el.style.display = \"none\";\n                setTimeout(function() {\n                    startWinning();\n                }, 250);\n            }\n        } else if (i % 13 === 12) {\n            if (!kingsClicked) return;\n            kingsClicked[i] = true;\n            if (kingsClicked.filter(function(king) {\n                return king;\n            }).length === 4) {\n                for(var j = 0; j < 3; j++){\n                    card = Deck.Card(52 + j);\n                    card.mount(deck.$el);\n                    card.$el.style[transform] = \"scale(0)\";\n                    card.setSide(\"front\");\n                    card.enableDragging();\n                    card.enableFlipping();\n                    deck.cards.push(card);\n                }\n                deck.sort(true);\n                kingsClicked = false;\n            }\n        } else {\n            acesClicked = [];\n            if (kingsClicked) kingsClicked = [];\n        }\n    }\n});\n// Function to initiate winning animation\nfunction startWinning() {\n    var $winningDeck = document.createElement(\"div\");\n    $winningDeck.classList.add(\"deck\");\n    $winningDeck.style[transform] = translate(Math.random() * window.innerWidth - window.innerWidth / 2 + \"px\", Math.random() * window.innerHeight - window.innerHeight / 2 + \"px\");\n    $container.appendChild($winningDeck);\n    var side = Math.floor(Math.random() * 2) ? \"front\" : \"back\";\n    for(var i = 0; i < 55; i++)addWinningCard($winningDeck, i, side);\n    setTimeout(startWinning, Math.round(Math.random() * 1000));\n}\n// Function to add a card to the winning deck\nfunction addWinningCard($deck, i, side) {\n    var card = Deck.Card(54 - i);\n    var delay = (55 - i) * 20;\n    var animationFrames = Deck.animationFrames;\n    var ease = Deck.ease;\n    card.enableFlipping();\n    if (side === \"front\") card.setSide(\"front\");\n    else card.setSide(\"back\");\n    card.mount($deck);\n    card.$el.style.display = \"none\";\n    var xStart = 0;\n    var yStart = 0;\n    var xDiff = -500;\n    var yDiff = 500;\n    animationFrames(delay, 1000).start(function() {\n        card.x = 0;\n        card.y = 0;\n        card.$el.style.display = \"\";\n    }).progress(function(t) {\n        var tx = t;\n        var ty = ease.cubicIn(t);\n        card.x = xStart + xDiff * tx;\n        card.y = yStart + yDiff * ty;\n        card.$el.style[transform] = translate(card.x + \"px\", card.y + \"px\");\n    }).end(function() {\n        card.unmount();\n    });\n}\n// Easter eggs end\n// Adding event listeners to buttons\n$shuffle.addEventListener(\"click\", function() {\n    deck.shuffle();\n    deck.shuffle();\n});\n$sort.addEventListener(\"click\", function() {\n    deck.sort();\n});\n$bysuit.addEventListener(\"click\", function() {\n    deck.sort(true) // sort reversed\n    ;\n    deck.bysuit();\n});\n$fan.addEventListener(\"click\", function() {\n    deck.fan();\n});\n$flip.addEventListener(\"click\", function() {\n    deck.flip();\n});\n$poker.addEventListener(\"click\", function() {\n    deck.queue(function(next) {\n        deck.cards.forEach(function(card, i) {\n            setTimeout(function() {\n                card.setSide(\"back\");\n            }, i * 7.5);\n        });\n        next();\n    });\n    deck.shuffle();\n    deck.shuffle();\n    deck.poker();\n});\ndeck.mount($container);\ndeck.intro();\ndeck.sort();\n// Event listener for the secret message\n// var randomDelay = 10000 + 30000 * Math.random();\n// setTimeout(function () {\n//   printMessage('Psst..I want to share a secret with you...');\n// }, randomDelay);\n// setTimeout(function () {\n//   printMessage('...try clicking all kings and nothing in between...');\n// }, randomDelay + 5000);\n// setTimeout(function () {\n//   printMessage('...have fun ;)');\n// }, randomDelay + 10000);\n// Function to print a hidden message\nfunction printMessage(text) {\n    var animationFrames = Deck.animationFrames;\n    var ease = Deck.ease;\n    var $message = document.createElement(\"p\");\n    $message.classList.add(\"message\");\n    $message.textContent = text;\n    document.body.appendChild($message);\n    $message.style[transform] = translate(window.innerWidth + \"px\", 0);\n    var diffX = window.innerWidth;\n    animationFrames(1000, 700).progress(function(t) {\n        t = ease.cubicInOut(t);\n        $message.style[transform] = translate(diffX - diffX * t + \"px\", 0);\n    });\n    animationFrames(6000, 700).start(function() {\n        diffX = window.innerWidth;\n    }).progress(function(t) {\n        t = ease.cubicInOut(t);\n        $message.style[transform] = translate(-diffX * t + \"px\", 0);\n    }).end(function() {\n        document.body.removeChild($message);\n    });\n}\n\n//# sourceMappingURL=deck_of_cards.9c97be56.js.map\n","/* global Deck */\n\n// Prefixing for cross-browser compatibility\nvar prefix = Deck.prefix\n\n// CSS transform property\nvar transform = prefix('transform')\n\n// Function to create a button\nfunction createButton(text) {\n  var $button = document.createElement('button')\n  $button.textContent = text\n  return $button\n}\n\n// Elements from the DOM\nvar $container = document.getElementById('container')\nvar $topbar = document.getElementById('topbar')\n\n// Creating buttons\nvar $sort = createButton('Sort')\nvar $shuffle = createButton('Shuffle')\nvar $bysuit = createButton('By suit')\nvar $fan = createButton('Fan')\nvar $poker = createButton('Poker')\nvar $flip = createButton('Flip')\n\n// Appending buttons to the top bar\n$topbar.appendChild($flip)\n$topbar.appendChild($shuffle)\n$topbar.appendChild($bysuit)\n$topbar.appendChild($fan)\n$topbar.appendChild($poker)\n$topbar.appendChild($sort)\n\n// Creating a deck\nvar deck = Deck()\n\n// Easter eggs start\n\nvar acesClicked = []\nvar kingsClicked = []\n\n// Adding event listeners to each card\ndeck.cards.forEach(function (card, i) {\n  card.enableDragging()\n  card.enableFlipping()\n\n  card.$el.addEventListener('mousedown', onTouch)\n  card.$el.addEventListener('touchstart', onTouch)\n\n  // Event handler for card touch\n  function onTouch() {\n    var card\n\n    if (i % 13 === 0) {\n      acesClicked[i] = true\n      if (acesClicked.filter(function (ace) {\n        return ace\n      }).length === 4) {\n        document.body.removeChild($topbar)\n        deck.$el.style.display = 'none'\n        setTimeout(function () {\n          startWinning()\n        }, 250)\n      }\n    } else if (i % 13 === 12) {\n      if (!kingsClicked) {\n        return\n      }\n      kingsClicked[i] = true\n      if (kingsClicked.filter(function (king) {\n        return king\n      }).length === 4) {\n        for (var j = 0; j < 3; j++) {\n          card = Deck.Card(52 + j)\n          card.mount(deck.$el)\n          card.$el.style[transform] = 'scale(0)'\n          card.setSide('front')\n          card.enableDragging()\n          card.enableFlipping()\n          deck.cards.push(card)\n        }\n        deck.sort(true)\n        kingsClicked = false\n      }\n    } else {\n      acesClicked = []\n      if (kingsClicked) {\n        kingsClicked = []\n      }\n    }\n  }\n})\n\n// Function to initiate winning animation\nfunction startWinning() {\n  var $winningDeck = document.createElement('div')\n  $winningDeck.classList.add('deck')\n\n  $winningDeck.style[transform] = translate(Math.random() * window.innerWidth - window.innerWidth / 2 + 'px', Math.random() * window.innerHeight - window.innerHeight / 2 + 'px')\n\n  $container.appendChild($winningDeck)\n\n  var side = Math.floor(Math.random() * 2) ? 'front' : 'back'\n\n  for (var i = 0; i < 55; i++) {\n    addWinningCard($winningDeck, i, side)\n  }\n\n  setTimeout(startWinning, Math.round(Math.random() * 1000))\n}\n\n// Function to add a card to the winning deck\nfunction addWinningCard($deck, i, side) {\n  var card = Deck.Card(54 - i)\n  var delay = (55 - i) * 20\n  var animationFrames = Deck.animationFrames\n  var ease = Deck.ease\n\n  card.enableFlipping()\n\n  if (side === 'front') {\n    card.setSide('front')\n  } else {\n    card.setSide('back')\n  }\n\n  card.mount($deck)\n  card.$el.style.display = 'none'\n\n  var xStart = 0\n  var yStart = 0\n  var xDiff = -500\n  var yDiff = 500\n\n  animationFrames(delay, 1000)\n    .start(function () {\n      card.x = 0\n      card.y = 0\n      card.$el.style.display = ''\n    })\n    .progress(function (t) {\n      var tx = t\n      var ty = ease.cubicIn(t)\n      card.x = xStart + xDiff * tx\n      card.y = yStart + yDiff * ty\n      card.$el.style[transform] = translate(card.x + 'px', card.y + 'px')\n    })\n    .end(function () {\n      card.unmount()\n    })\n}\n\n// Easter eggs end\n\n// Adding event listeners to buttons\n$shuffle.addEventListener('click', function () {\n  deck.shuffle()\n  deck.shuffle()\n})\n$sort.addEventListener('click', function () {\n  deck.sort()\n})\n$bysuit.addEventListener('click', function () {\n  deck.sort(true) // sort reversed\n  deck.bysuit()\n})\n$fan.addEventListener('click', function () {\n  deck.fan()\n})\n$flip.addEventListener('click', function () {\n  deck.flip()\n})\n$poker.addEventListener('click', function () {\n  deck.queue(function (next) {\n    deck.cards.forEach(function (card, i) {\n      setTimeout(function () {\n        card.setSide('back')\n      }, i * 7.5)\n    })\n    next()\n  })\n  deck.shuffle()\n  deck.shuffle()\n  deck.poker()\n})\n\ndeck.mount($container)\n\ndeck.intro()\ndeck.sort()\n\n// Event listener for the secret message\n// var randomDelay = 10000 + 30000 * Math.random();\n\n// setTimeout(function () {\n//   printMessage('Psst..I want to share a secret with you...');\n// }, randomDelay);\n\n// setTimeout(function () {\n//   printMessage('...try clicking all kings and nothing in between...');\n// }, randomDelay + 5000);\n\n// setTimeout(function () {\n//   printMessage('...have fun ;)');\n// }, randomDelay + 10000);\n\n// Function to print a hidden message\nfunction printMessage(text) {\n  var animationFrames = Deck.animationFrames;\n  var ease = Deck.ease;\n  var $message = document.createElement('p');\n  $message.classList.add('message');\n  $message.textContent = text;\n\n  document.body.appendChild($message);\n\n  $message.style[transform] = translate(window.innerWidth + 'px', 0);\n\n  var diffX = window.innerWidth;\n\n  animationFrames(1000, 700)\n    .progress(function (t) {\n      t = ease.cubicInOut(t);\n      $message.style[transform] = translate((diffX - diffX * t) + 'px', 0);\n    });\n\n  animationFrames(6000, 700)\n    .start(function () {\n      diffX = window.innerWidth;\n    })\n    .progress(function (t) {\n      t = ease.cubicInOut(t);\n      $message.style[transform] = translate((-diffX * t) + 'px', 0);\n    })\n    .end(function () {\n      document.body.removeChild($message);\n    });\n}"],"names":["transform","prefix","Deck","createButton","text","$button","document","createElement","textContent","$container","getElementById","$topbar","$sort","$shuffle","$bysuit","$fan","$poker","$flip","appendChild","deck","acesClicked","kingsClicked","cards","forEach","card","i","onTouch","filter","ace","length","body","removeChild","$el","style","display","setTimeout","startWinning","$winningDeck","classList","add","translate","Math","random","window","innerWidth","innerHeight","side","floor","addWinningCard","$deck","Card","animationFrames","ease","enableFlipping","setSide","mount","start","x","y","progress","t","ty","cubicIn","xStart","xDiff","yStart","yDiff","end","unmount","round","king","j","enableDragging","push","sort","addEventListener","shuffle","bysuit","fan","flip","queue","next","poker","intro"],"version":3,"file":"deck_of_cards.9c97be56.js.map"}