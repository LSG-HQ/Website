!function(){var n,t,e,o,r,i,u=[];function a(t,e){var o=Date.now()+t,r={start:o,end:o+e};u.push(r),n||(n=!0,requestAnimationFrame(c));var i={start:function(n){return r.startcb=n,i},progress:function(n){return r.progresscb=n,i},end:function(n){return r.endcb=n,i}};return i}function c(){var t=Date.now();if(!u.length){n=!1;return}for(var e,o=0;o<u.length;o++)if(!(t<(e=u[o]).start)){!e.started&&(e.started=!0,e.startcb&&e.startcb());var r=(t-e.start)/(e.end-e.start);if(e.progresscb&&e.progresscb(r<1?r:1),t>e.end){e.endcb&&e.endcb(),u.splice(o--,1);continue}}requestAnimationFrame(c)}window.requestAnimationFrame||(window.requestAnimationFrame=function(n){setTimeout(n,0)});var d=document.createElement("p").style,f={};function s(n){if(void 0!==f[n])return f[n];if(void 0!==d[n])return f[n]=n,n;for(var t,e=n[0].toUpperCase()+n.slice(1),o=["webkit","moz","Moz","ms","o"],r=0,i=o.length;r<i;r++)if(void 0!==d[t=o[r]+e])return f[n]=t,t}function l(n,e,o){return(void 0!==t||(t=function(){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return!1;var n=s("transform"),e=document.createElement("p");return document.body.appendChild(e),e.style[n]="translate3d(1px,1px,1px)",t=null!=(t=e.style[n])&&t.length&&"none"!==t,document.body.removeChild(e),t}()),o=o||0,t)?"translate3d("+n+", "+e+", "+o+")":"translate("+n+", "+e+")"}function p(n){return document.createElement(n)}var y=52;function m(n){var t,e,o=s("transform"),r=n%13+1,i=n/13|0,u=(52-n)/4,c=p("div"),d=p("div"),f=p("div"),m=!1,b=!1,g={i:n,rank:r,suit:i,pos:n,$el:c,mount:function(n){n.appendChild(c),g.$root=n},unmount:function(){g.$root&&g.$root.removeChild(c),g.$root=null},setSide:function(n){"front"===n?("back"===g.side&&c.removeChild(f),g.side="front",c.appendChild(d),g.setRankSuit(g.rank,g.suit)):("front"===g.side&&c.removeChild(d),g.side="back",c.appendChild(f),c.setAttribute("class","card"))}},w=k.modules;for(e in d.classList.add("face"),f.classList.add("back"),c.style[o]=l(-u+"px",-u+"px"),g.x=-u,g.y=-u,g.z=u,g.rot=0,g.setSide("back"),h(c,"mousedown",q),h(c,"touchstart",q),w)(t=w[e]).card&&t.card(g);return g.animateTo=function(n){var t,e,r,i,u,d,f=n.delay,s=n.duration,p=n.x,y=void 0===p?g.x:p,m=n.y,h=void 0===m?g.y:m,v=n.rot,b=void 0===v?g.rot:v,k=n.ease,w=n.onStart,q=n.onProgress,C=n.onComplete;a(f,s).start(function(){t=g.x||0,e=g.y||0,r=g.rot||0,w&&w()}).progress(function(n){var a=x[k||"cubicInOut"](n);i=y-t,u=h-e,d=b-r,q&&q(n,a),g.x=t+i*a,g.y=e+u*a,g.rot=r+d*a,c.style[o]=l(g.x+"px",g.y+"px")+(d?"rotate("+g.rot+"deg)":"")}).end(function(){C&&C()})},g.setRankSuit=function(n,t){c.setAttribute("class","card "+(0===t?"spades":1===t?"hearts":2===t?"clubs":3===t?"diamonds":"joker")+" rank"+n)},g.setRankSuit(r,i),g.enableDragging=function(){m||(m=!0,c.style.cursor="move")},g.enableFlipping=function(){b||(b=!0)},g.disableFlipping=function(){b&&(b=!1)},g.disableDragging=function(){m&&(m=!1,c.style.cursor="")},g;function q(n){var t={},e={},r=Date.now();function i(n){m&&("mousemove"===n.type?(e.x=n.clientX,e.y=n.clientY):(e.x=n.touches[0].clientX,e.y=n.touches[0].clientY),c.style[o]=l(Math.round(g.x+e.x-t.x)+"px",Math.round(g.y+e.y-t.y)+"px")+(g.rot?" rotate("+g.rot+"deg)":""))}function u(n){b&&Date.now()-r<200&&g.setSide("front"===g.side?"back":"front"),"mouseup"===n.type?(v(window,"mousemove",i),v(window,"mouseup",u)):(v(window,"touchmove",i),v(window,"touchend",u)),m&&(g.x=g.x+e.x-t.x,g.y=g.y+e.y-t.y)}n.preventDefault(),"mousedown"===n.type?(t.x=e.x=n.clientX,t.y=e.y=n.clientY,h(window,"mousemove",i),h(window,"mouseup",u)):(t.x=e.x=n.touches[0].clientX,t.y=e.y=n.touches[0].clientY,h(window,"touchmove",i),h(window,"touchend",u)),m&&(c.style[o]=l(g.x+"px",g.y+"px")+(g.rot?" rotate("+g.rot+"deg)":""),c.style.zIndex=y++)}}function h(n,t,e){n.addEventListener(t,e)}function v(n,t,e){n.removeEventListener(t,e)}var x={linear:function(n){return n},quadIn:function(n){return n*n},quadOut:function(n){return n*(2-n)},quadInOut:function(n){return n<.5?2*n*n:-1+(4-2*n)*n},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},quartIn:function(n){return n*n*n*n},quartOut:function(n){return 1- --n*n*n*n},quartInOut:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},quintIn:function(n){return n*n*n*n*n},quintOut:function(n){return 1+--n*n*n*n*n},quintInOut:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function b(){return window.getComputedStyle(document.body).getPropertyValue("font-size").slice(0,-2)}function g(n){return n*Math.PI/180}function k(n){var t,e,o,r,i,u,a=Array(n?55:52),c=p("div"),d=(o={},(e={mount:function(n){(r=n).appendChild(c)},unmount:function(){r.removeChild(c)},cards:a,$el:c}).on=function(n,t,e){o[n]||(o[n]=[]),o[n].push({cb:t,ctx:e})},e.one=function(n,t,e){o[n]||(o[n]=[]),o[n].push({cb:t,ctx:e,once:!0})},e.off=function(n,t){if(!n){o={};return}if(!t){o[n]=[];return}o[n]=o[n].filter(function(n){return n.cb!==t})},e.trigger=function(n){var t=this,e=Array.prototype.slice(arguments,1);(o[n]||[]).filter(function(n){return n.cb.apply(t,e),!n.once})},e),f=k.modules;for(i in!function(n){var t=Array.prototype,e=[];return n.queue=o,n.queued=function(n){return function(){var e=this,r=arguments;o(function(o){n.apply(e,t.concat.apply(o,r))})}};function o(n){n&&(e.push(n),1===e.length&&function n(){e[0](function(t){if(t)throw t;(e=e.slice(1)).length&&n()})}())}}(d),f)(t=f[i]).deck&&t.deck(d);c.classList.add("deck");for(var s=a.length;s;s--)(u=a[s-1]=m(s-1)).setSide("back"),u.mount(c);return d}k.animationFrames=a,k.ease=x,k.modules={bysuit:{deck:function(n){n.bysuit=n.queued(function(t){var e=n.cards;i=b(),e.forEach(function(n){n.bysuit(function(n){n===e.length-1&&t()})})})},card:function(n){var t=n.rank,e=n.suit;n.bysuit=function(o){var r=n.i;n.animateTo({delay:10*r,duration:400,x:-Math.round((6.75-t)*8*i/16),y:-Math.round((1.5-e)*92*i/16),rot:0,onComplete:function(){o(r)}})}}},fan:{deck:function(n){n.fan=n.queued(function(t){var e=n.cards,o=e.length;r=b(),e.forEach(function(n,r){n.fan(r,o,function(n){n===e.length-1&&t()})})})},card:function(n){var t=n.$el;n.fan=function(e,o,i){var u=e/4,a=10*e,c=e/(o-1)*260-130;n.animateTo({delay:a,duration:300,x:-u,y:-u,rot:0}),n.animateTo({delay:300+a,duration:300,x:55*Math.cos(g(c-90))*r/16,y:55*Math.sin(g(c-90))*r/16,rot:c,onStart:function(){t.style.zIndex=e},onComplete:function(){i(e)}})}}},intro:{deck:function(n){n.intro=n.queued(function(t){var e=n.cards;e.forEach(function(n,o){n.setSide("front"),n.intro(o,function(o){a(250,0).start(function(){n.setSide("back")}),o===e.length-1&&t()})})})},card:function(n){var t=s("transform"),e=n.$el;n.intro=function(o,r){var i=o/4;e.style[t]=l(-i+"px","-250px"),e.style.opacity=0,n.x=-i,n.y=-250-i,n.rot=0,n.animateTo({delay:500+10*o,duration:1e3,x:-i,y:-i,onStart:function(){e.style.zIndex=o},onProgress:function(n){e.style.opacity=n},onComplete:function(){e.style.opacity="",r&&r(o)}})}}},poker:{deck:function(n){n.poker=n.queued(function(t){var e=n.cards,r=e.length;o=b(),e.slice(-5).reverse().forEach(function(n,e){n.poker(e,r,function(e){n.setSide("front"),4===e&&t()})})})},card:function(n){var t=n.$el;n.poker=function(e,r,i){n.animateTo({delay:250*e,duration:250,x:Math.round((e-2.05)*70*o/16),y:Math.round(-110*o/16),rot:0,onStart:function(){t.style.zIndex=r-1+e},onComplete:function(){i(e)}})}}},shuffle:{deck:function(n){n.shuffle=n.queued(function(t){var o=n.cards;e=b(),function(n){for(var t,e,o=n.length-1;o;o--)t=Math.random()*o|0,e=n[o],n[o]=n[t],n[t]=e}(o),o.forEach(function(n,e){n.pos=e,n.shuffle(function(n){n===o.length-1&&t()})})})},card:function(n){var t=n.$el;n.shuffle=function(o){var r=n.pos,i=r/4,u=2*r;n.animateTo({delay:u,duration:200,x:(Math.round(Math.random())?-1:1)*(40*Math.random()+20)*e/16,y:-i,rot:0}),n.animateTo({delay:200+u,duration:200,x:-i,y:-i,rot:0,onStart:function(){t.style.zIndex=r},onComplete:function(){o(r)}})}}},sort:{deck:function(n){n.sort=n.queued(function(t,e){var o=n.cards;o.sort(function(n,t){return e?n.i-t.i:t.i-n.i}),o.forEach(function(n,r){n.sort(r,o.length,function(n){n===o.length-1&&t()},e)})})},card:function(n){var t=n.$el;n.sort=function(e,o,r,i){var u=e/4,a=10*e;n.animateTo({delay:a,duration:400,x:-u,y:-150,rot:0,onComplete:function(){t.style.zIndex=e}}),n.animateTo({delay:a+500,duration:400,x:-u,y:-u,rot:0,onComplete:function(){r(e)}})}}},flip:{deck:function(n){n.flip=n.queued(function(t,e){var o=n.cards.filter(function(n){return"front"===n.side}).length/n.cards.length;n.cards.forEach(function(n,t){n.setSide(e||(o>.5?"back":"front"))}),t()})}}},k.Card=m,k.prefix=s,k.translate=l}();
//# sourceMappingURL=deck_of_cards.91725661.js.map
